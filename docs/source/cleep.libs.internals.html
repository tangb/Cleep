

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>cleep.libs.internals.cleepbackup module &mdash; Cleep core API 0.0.21 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/cleep.css" type="text/css" />
  <link rel="stylesheet" href="../_static/_static/cleep.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="cleep.libs.tests.lib module" href="cleep.libs.tests.html" />
    <link rel="prev" title="cleep.libs.drivers.audiodriver module" href="cleep.libs.drivers.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #607d8b" >
          

          
            <a href="../index.html" class="icon icon-home"> Cleep core API
          

          
            
            <img src="../_static/cleep-logo-red.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.0.21
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">cleep</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cleep.html">cleep package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cleep.html#module-cleep.bus">cleep.bus module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.html#module-cleep.common">cleep.common module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.html#module-cleep.core">cleep.core module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.html#module-cleep.exception">cleep.exception module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.html#module-cleep.inventory">cleep.inventory module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.html#module-cleep.rpcserver">cleep.rpcserver module</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="cleep.libs.html">cleep.libs package</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="cleep.libs.html#cleep-libs-commands">cleep.libs.commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.commands.html">cleep.libs.commands.alsa module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.commands.html#module-cleep.libs.commands.blkid">cleep.libs.commands.blkid module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.commands.html#module-cleep.libs.commands.ifconfig">cleep.libs.commands.ifconfig module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.commands.html#module-cleep.libs.commands.ifupdown">cleep.libs.commands.ifupdown module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.commands.html#module-cleep.libs.commands.iw">cleep.libs.commands.iw module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.commands.html#module-cleep.libs.commands.iwconfig">cleep.libs.commands.iwconfig module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.commands.html#module-cleep.libs.commands.iwgetid">cleep.libs.commands.iwgetid module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.commands.html#module-cleep.libs.commands.iwlist">cleep.libs.commands.iwlist module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.commands.html#module-cleep.libs.commands.lsblk">cleep.libs.commands.lsblk module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.commands.html#module-cleep.libs.commands.lsmod">cleep.libs.commands.lsmod module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.commands.html#module-cleep.libs.commands.modprobe">cleep.libs.commands.modprobe module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.commands.html#module-cleep.libs.commands.udevadm">cleep.libs.commands.udevadm module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.commands.html#module-cleep.libs.commands.wpacli">cleep.libs.commands.wpacli module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cleep.libs.html#cleep-libs-configs">cleep.libs.configs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html">cleep.libs.configs.asoundrc module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.cleepaudio">cleep.libs.configs.cleepaudio module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.cleepwificonf">cleep.libs.configs.cleepwificonf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.cmdline">cleep.libs.configs.cmdline module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.cmdlinetxt">cleep.libs.configs.cmdlinetxt module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.config">cleep.libs.configs.config module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.configtxt">cleep.libs.configs.configtxt module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.dhcpcdconf">cleep.libs.configs.dhcpcdconf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.etcasoundconf">cleep.libs.configs.etcasoundconf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.etcmodules">cleep.libs.configs.etcmodules module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.etcnetworkinterfaces">cleep.libs.configs.etcnetworkinterfaces module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.fstab">cleep.libs.configs.fstab module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.hostname">cleep.libs.configs.hostname module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.modulesjson">cleep.libs.configs.modulesjson module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.cleepconf">cleep.libs.configs.cleepconf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.configs.html#module-cleep.libs.configs.wpasupplicantconf">cleep.libs.configs.wpasupplicantconf module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cleep.libs.html#cleep-libs-drivers">cleep.libs.drivers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.drivers.html">cleep.libs.drivers.audiodriver module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.drivers.html#module-cleep.libs.drivers.driver">cleep.libs.drivers.driver module</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="reference internal" href="cleep.libs.html#cleep-libs-internals">cleep.libs.internals</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">cleep.libs.internals.cleepbackup module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.cleepfilesystem">cleep.libs.internals.cleepfilesystem module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.cleepgithub">cleep.libs.internals.cleepgithub module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.cleepresource">cleep.libs.internals.cleepresource module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.console">cleep.libs.internals.console module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.crashreport">cleep.libs.internals.crashreport module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.criticalresources">cleep.libs.internals.criticalresources module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.download">cleep.libs.internals.download module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.drivers">cleep.libs.internals.drivers module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.event">cleep.libs.internals.event module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.eventsbroker">cleep.libs.internals.eventsbroker module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.externalbus">cleep.libs.internals.externalbus module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.install">cleep.libs.internals.install module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.installdeb">cleep.libs.internals.installdeb module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.installmodule">cleep.libs.internals.installmodule module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.installcleep">cleep.libs.internals.installcleep module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.profileformatter">cleep.libs.internals.profileformatter module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.profileformattersbroker">cleep.libs.internals.profileformattersbroker module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.readwrite">cleep.libs.internals.readwrite module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.rendererprofile">cleep.libs.internals.rendererprofile module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.sun">cleep.libs.internals.sun module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.task">cleep.libs.internals.task module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-cleep.libs.internals.tools">cleep.libs.internals.tools module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cleep.libs.html#cleep-libs-tests">cleep.libs.tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.tests.html">cleep.libs.tests.lib module</a></li>
<li class="toctree-l4"><a class="reference internal" href="cleep.libs.tests.html#module-cleep.libs.tests.session">cleep.libs.tests.session module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cleep.profiles.html">cleep.profiles package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cleep.profiles.html#module-cleep.profiles.alertemailprofile">cleep.profiles.alertemailprofile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.profiles.html#module-cleep.profiles.alertpushprofile">cleep.profiles.alertpushprofile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.profiles.html#module-cleep.profiles.alertsmsprofile">cleep.profiles.alertsmsprofile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.profiles.html#module-cleep.profiles.displayaddorreplacemessageprofile">cleep.profiles.displayaddorreplacemessageprofile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.profiles.html#module-cleep.profiles.displaymessageprofile">cleep.profiles.displaymessageprofile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.profiles.html#module-cleep.profiles.displaytimelimitedmessageprofile">cleep.profiles.displaytimelimitedmessageprofile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.profiles.html#module-cleep.profiles.soundtexttospeechprofile">cleep.profiles.soundtexttospeechprofile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.profiles.html#module-cleep.profiles.speechrecognitioncommandprofile">cleep.profiles.speechrecognitioncommandprofile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.profiles.html#module-cleep.profiles.speechrecognitionhotwordprofile">cleep.profiles.speechrecognitionhotwordprofile module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cleep.resources.html">cleep.resources package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cleep.resources.html#module-cleep.resources.audiocaptureresource">cleep.resources.audiocaptureresource module</a></li>
<li class="toctree-l3"><a class="reference internal" href="cleep.resources.html#module-cleep.resources.audioplaybackresource">cleep.resources.audioplaybackresource module</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Cleep core API</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">cleep</a> &raquo;</li>
        
          <li><a href="cleep.libs.html">cleep.libs package</a> &raquo;</li>
        
      <li>cleep.libs.internals.cleepbackup module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/source/cleep.libs.internals.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-cleep.libs.internals.cleepbackup">
<span id="cleep-libs-internals-cleepbackup-module"></span><h1>cleep.libs.internals.cleepbackup module<a class="headerlink" href="#module-cleep.libs.internals.cleepbackup" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.cleepbackup.CleepBackup">
<em class="property">class </em><code class="descname">CleepBackup</code><span class="sig-paren">(</span><em>cleep_filesystem</em>, <em>crash_report</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepbackup.CleepBackup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="docutils">
<dt>CleepBackup allows you:</dt>
<dd><ul class="first last simple">
<li>to backup cleep configuration files on filesystem (in /etc/cleep.bak directory)</li>
<li>to generate backup archive of configuration files</li>
</ul>
</dd>
</dl>
<p>It uses rsync to backup files locally</p>
<dl class="attribute">
<dt id="cleep.libs.internals.cleepbackup.CleepBackup.BACKUP_PATH">
<code class="descname">BACKUP_PATH</code><em class="property"> = '/etc/cleep.bak/'</em><a class="headerlink" href="#cleep.libs.internals.cleepbackup.CleepBackup.BACKUP_PATH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.cleepbackup.CleepBackup.CLEEP_PATH">
<code class="descname">CLEEP_PATH</code><em class="property"> = '/etc/cleep/'</em><a class="headerlink" href="#cleep.libs.internals.cleepbackup.CleepBackup.CLEEP_PATH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepbackup.CleepBackup.backup">
<code class="descname">backup</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepbackup.CleepBackup.backup" title="Permalink to this definition">¶</a></dt>
<dd><p>Backup configuration files on filesystem</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if backup completed sucessfully</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepbackup.CleepBackup.generate_archive">
<code class="descname">generate_archive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepbackup.CleepBackup.generate_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate backup archive (zip format)</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Caller is in charge of file deletion !</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">generated archive fullpath</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.cleepfilesystem">
<span id="cleep-libs-internals-cleepfilesystem-module"></span><h1>cleep.libs.internals.cleepfilesystem module<a class="headerlink" href="#module-cleep.libs.internals.cleepfilesystem" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem">
<em class="property">class </em><code class="descname">CleepFilesystem</code><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Filesystem helper with read/write filesystem support (uses readwrite lib)
A debounce function waits to switch to readonly mode to reduce number of switches</p>
<dl class="attribute">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.DEBOUNCE_DURATION">
<code class="descname">DEBOUNCE_DURATION</code><em class="property"> = 10.0</em><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.DEBOUNCE_DURATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem._CleepFilesystem__disable_write">
<code class="descname">_CleepFilesystem__disable_write</code><span class="sig-paren">(</span><em>context</em>, <em>root=True</em>, <em>boot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem._CleepFilesystem__disable_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable write mode</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem._CleepFilesystem__enable_write">
<code class="descname">_CleepFilesystem__enable_write</code><span class="sig-paren">(</span><em>root=True</em>, <em>boot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem._CleepFilesystem__enable_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable write mode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>root</strong> – enable write on root partition (efault true)</li>
<li><strong>boot</strong> (<em>bool</em>) – enable write on boot partition (default false)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem._CleepFilesystem__is_on_tmp">
<code class="descname">_CleepFilesystem__is_on_tmp</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem._CleepFilesystem__is_on_tmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if specified file path is on /tmp which is writable</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>string</em>) – path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if on /tmp</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem._CleepFilesystem__is_readonly_filesystem">
<code class="descname">_CleepFilesystem__is_readonly_filesystem</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem._CleepFilesystem__is_readonly_filesystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if readonly is configured in OS</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if RO configured on OS</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem._CleepFilesystem__really_disable_write">
<code class="descname">_CleepFilesystem__really_disable_write</code><span class="sig-paren">(</span><em>context</em>, <em>root=True</em>, <em>boot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem._CleepFilesystem__really_disable_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Function used in debounce timer</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem._CleepFilesystem__report_exception">
<code class="descname">_CleepFilesystem__report_exception</code><span class="sig-paren">(</span><em>extra=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem._CleepFilesystem__report_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Report exception using crash report instance if configured</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem._get_counters">
<code class="descname">_get_counters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem._get_counters" title="Permalink to this definition">¶</a></dt>
<dd><p>Useful during test to check if counters have awaited value</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">counters:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">root</span> <span class="p">(</span><span class="nb">int</span><span class="p">),</span>
    <span class="n">boot</span> <span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.close">
<code class="descname">close</code><span class="sig-paren">(</span><em>fd</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close file descriptor</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fd</strong> (<em>descriptor</em>) – file descriptor</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy file to destination (uses shutil.copy2)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<em>string</em>) – source file path</li>
<li><strong>dst</strong> (<em>string</em>) – destination path</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if operation succeed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.copy_dir">
<code class="descname">copy_dir</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.copy_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy directory content to destination (uses distutils.dir_util.copy_tree)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<em>string</em>) – source dir path</li>
<li><strong>dst</strong> (<em>string</em>) – destination path</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if operation succeed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.disable_write">
<code class="descname">disable_write</code><span class="sig-paren">(</span><em>root=True</em>, <em>boot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.disable_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable write</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>This function must be used in specific cases when you need to disable readonly mode for a while (like system update).</p>
<p class="last">Use this function only if you called enable_write function before!</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>root</strong> (<em>bool</em>) – disable write on root partition (default True)</li>
<li><strong>boot</strong> (<em>bool</em>) – disable write on boot partition (default False)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.enable_write">
<code class="descname">enable_write</code><span class="sig-paren">(</span><em>root=True</em>, <em>boot=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.enable_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable write as long as you disable it</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>This function must be used in specific cases when you need to disable readonly mode for a while (like system update).</p>
<p class="last">Please make sure to call disable_write after you finished your job!</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>root</strong> (<em>bool</em>) – enable write on root partition (default True)</li>
<li><strong>boot</strong> (<em>bool</em>) – enable write on boot partition (default False)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.get_default_encoding">
<code class="descname">get_default_encoding</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.get_default_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>Return default encoding (based on system)</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.ln">
<code class="descname">ln</code><span class="sig-paren">(</span><em>src</em>, <em>link</em>, <em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.ln" title="Permalink to this definition">¶</a></dt>
<dd><p>Create symbolic link</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<em>string</em>) – source path</li>
<li><strong>link</strong> (<em>string</em>) – link path</li>
<li><strong>force</strong> (<em>bool</em>) – if True will delete existing file or link specified by link path</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if operation succeed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.mkdir">
<code class="descname">mkdir</code><span class="sig-paren">(</span><em>path</em>, <em>recursive=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.mkdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create directory</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>string</em>) – path</li>
<li><strong>recursive</strong> (<em>bool</em>) – recursive creation (default False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if operation succeed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.mkdirs">
<code class="descname">mkdirs</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.mkdirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create directories tree</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>string</em>) – path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if operation succeed</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.move">
<code class="descname">move</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.move" title="Permalink to this definition">¶</a></dt>
<dd><p>Move file/dir to destination (uses shutil.move)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<em>string</em>) – source</li>
<li><strong>dst</strong> (<em>string</em>) – destination</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if operation succeed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.open">
<code class="descname">open</code><span class="sig-paren">(</span><em>path</em>, <em>mode</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>string</em>) – file path</li>
<li><strong>mode</strong> (<em>string</em>) – mode as builtin open() function</li>
<li><strong>encoding</strong> (<em>string</em>) – file encoding (default is system one)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">file descriptor</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">stream</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.read_data">
<code class="descname">read_data</code><span class="sig-paren">(</span><em>path</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.read_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Read file content</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>string</em>) – file path</li>
<li><strong>encoding</strong> (<em>string</em>) – file encoding (default is system one)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">file lines or None if errors</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.read_json">
<code class="descname">read_json</code><span class="sig-paren">(</span><em>path</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.read_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Read file content as json</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>string</em>) – file path</li>
<li><strong>encoding</strong> (<em>string</em>) – file encoding (default is system one)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">json content as dict. If error None is returned</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove file (alias of rm function)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>string</em>) – path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if operation succeed</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename file/dir to specified destination
Alias of move</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.rm">
<code class="descname">rm</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.rm" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove file of link</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>string</em>) – path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if operation succeed</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.rmdir">
<code class="descname">rmdir</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.rmdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove directory (even if not empty)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>string</em>) – path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if operation succeed</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.rsync">
<code class="descname">rsync</code><span class="sig-paren">(</span><em>src</em>, <em>dst</em>, <em>options='-ah --delete'</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.rsync" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy source to destination using rsync</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>src</strong> (<em>string</em>) – source</li>
<li><strong>dst</strong> (<em>string</em>) – destination</li>
<li><strong>options</strong> (<em>string</em>) – rsync options</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if operation succeed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.set_crash_report">
<code class="descname">set_crash_report</code><span class="sig-paren">(</span><em>crash_report</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.set_crash_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Set crash report</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>crash_report</strong> (<a class="reference internal" href="#cleep.libs.internals.crashreport.CrashReport" title="cleep.libs.internals.crashreport.CrashReport"><em>CrashReport</em></a>) – CrashReport instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.write_data">
<code class="descname">write_data</code><span class="sig-paren">(</span><em>path</em>, <em>data</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.write_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Write data on specified path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>string</em>) – file path</li>
<li><strong>data</strong> (<em>any</em>) – data to write</li>
<li><strong>encoding</strong> (<em>string</em>) – file encoding (default is system one)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if operation succeed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepfilesystem.CleepFilesystem.write_json">
<code class="descname">write_json</code><span class="sig-paren">(</span><em>path</em>, <em>data</em>, <em>encoding=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepfilesystem.CleepFilesystem.write_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Write file as json format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>path</strong> (<em>string</em>) – file path</li>
<li><strong>data</strong> (<em>any</em>) – data to write as json</li>
<li><strong>encoding</strong> (<em>string</em>) – file encoding (default is system one)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if operation succeed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.cleepgithub">
<span id="cleep-libs-internals-cleepgithub-module"></span><h1>cleep.libs.internals.cleepgithub module<a class="headerlink" href="#module-cleep.libs.internals.cleepgithub" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.cleepgithub.CleepGithub">
<em class="property">class </em><code class="descname">CleepGithub</code><span class="sig-paren">(</span><em>auth_string=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepgithub.CleepGithub" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Github release helper
This class get releases from specified project and return content as dict</p>
<dl class="attribute">
<dt id="cleep.libs.internals.cleepgithub.CleepGithub.GITHUB_RATE">
<code class="descname">GITHUB_RATE</code><em class="property"> = 'https://api.github.com/rate_limit'</em><a class="headerlink" href="#cleep.libs.internals.cleepgithub.CleepGithub.GITHUB_RATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.cleepgithub.CleepGithub.GITHUB_URL">
<code class="descname">GITHUB_URL</code><em class="property"> = 'https://api.github.com/repos/%s/%s/releases'</em><a class="headerlink" href="#cleep.libs.internals.cleepgithub.CleepGithub.GITHUB_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepgithub.CleepGithub._CleepGithub__get_all_releases">
<code class="descname">_CleepGithub__get_all_releases</code><span class="sig-paren">(</span><em>owner</em>, <em>repository</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepgithub.CleepGithub._CleepGithub__get_all_releases" title="Permalink to this definition">¶</a></dt>
<dd><p>Get releases of specify project repository</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>owner</strong> (<em>string</em>) – name of owner</li>
<li><strong>repository</strong> (<em>string</em>) – name of repository</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of releases. Format can be found here <a class="reference external" href="https://developer.github.com/v3/repos/releases/">https://developer.github.com/v3/repos/releases/</a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">list</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Exception if error occured during request</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepgithub.CleepGithub._CleepGithub__get_released_releases">
<code class="descname">_CleepGithub__get_released_releases</code><span class="sig-paren">(</span><em>owner</em>, <em>repository</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepgithub.CleepGithub._CleepGithub__get_released_releases" title="Permalink to this definition">¶</a></dt>
<dd><p>Get released releases</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>owner</strong> (<em>string</em>) – name of owner</li>
<li><strong>repository</strong> (<em>string</em>) – name of repository</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepgithub.CleepGithub.get_api_rate">
<code class="descname">get_api_rate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepgithub.CleepGithub.get_api_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get current api rate
Api requests are limited on free usage of github. This method returns current rate</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">general rate values:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">limit</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">limit</span> <span class="n">of</span> <span class="n">requests</span>
    <span class="n">remaining</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">number</span> <span class="n">of</span> <span class="n">requests</span> <span class="n">processed</span>
    <span class="n">reset</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">timestamp</span> <span class="n">when</span> <span class="n">rate</span> <span class="ow">is</span> <span class="n">resetted</span> <span class="n">to</span> <span class="n">limit</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepgithub.CleepGithub.get_release_assets_infos">
<code class="descname">get_release_assets_infos</code><span class="sig-paren">(</span><em>release</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepgithub.CleepGithub.get_release_assets_infos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return simplified structure of all release assets</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>release</strong> (<em>dict</em>) – release data as returned by get_releases function</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of assets infos (name, url, size):<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="n">name</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">asset</span> <span class="n">name</span>
        <span class="n">url</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">download</span> <span class="n">url</span>
        <span class="n">size</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">asset</span> <span class="n">size</span>
    <span class="p">},</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list of dict</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Exception if input release is invalid</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepgithub.CleepGithub.get_release_changelog">
<code class="descname">get_release_changelog</code><span class="sig-paren">(</span><em>release</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepgithub.CleepGithub.get_release_changelog" title="Permalink to this definition">¶</a></dt>
<dd><p>Return changelog of specified release</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>release</strong> (<em>dict</em>) – release data as returned by get_releases function</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">changelog of release. Can be empty string if no changelog specified.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Exception if version field not found or input release is invalid</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepgithub.CleepGithub.get_release_version">
<code class="descname">get_release_version</code><span class="sig-paren">(</span><em>release</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepgithub.CleepGithub.get_release_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Return version of specified release</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>release</strong> (<em>dict</em>) – release data as returned by get_releases function</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">version of release</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Exception if version field not found or input release is invalid</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepgithub.CleepGithub.get_releases">
<code class="descname">get_releases</code><span class="sig-paren">(</span><em>owner</em>, <em>repository</em>, <em>only_latest=False</em>, <em>only_released=True</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepgithub.CleepGithub.get_releases" title="Permalink to this definition">¶</a></dt>
<dd><p>Get releases of specify project repository</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>owner</strong> (<em>string</em>) – name of owner</li>
<li><strong>repository</strong> (<em>string</em>) – name of repository</li>
<li><strong>only_latest</strong> (<em>bool</em>) – if True returns only latest release</li>
<li><strong>only_released</strong> (<em>bool</em>) – if True returns only released releases</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of releases. Format can be found here <a class="reference external" href="https://developer.github.com/v3/repos/releases/">https://developer.github.com/v3/repos/releases/</a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.cleepgithub.CleepGithub.is_released">
<code class="descname">is_released</code><span class="sig-paren">(</span><em>release</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.cleepgithub.CleepGithub.is_released" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if release is released (it means not prerelease or draft)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>release</strong> (<em>dict</em>) – release data as returned by get_releases function</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if release is released</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Exception if input release is invalid</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.cleepresource">
<span id="cleep-libs-internals-cleepresource-module"></span><h1>cleep.libs.internals.cleepresource module<a class="headerlink" href="#module-cleep.libs.internals.cleepresource" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.cleepresource.CleepResource">
<em class="property">class </em><code class="descname">CleepResource</code><a class="headerlink" href="#cleep.libs.internals.cleepresource.CleepResource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base resource class</p>
<dl class="attribute">
<dt id="cleep.libs.internals.cleepresource.CleepResource.RESOURCE_NAME">
<code class="descname">RESOURCE_NAME</code><em class="property"> = ''</em><a class="headerlink" href="#cleep.libs.internals.cleepresource.CleepResource.RESOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.console">
<span id="cleep-libs-internals-console-module"></span><h1>cleep.libs.internals.console module<a class="headerlink" href="#module-cleep.libs.internals.console" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.console.AdvancedConsole">
<em class="property">class </em><code class="descname">AdvancedConsole</code><a class="headerlink" href="#cleep.libs.internals.console.AdvancedConsole" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleep.libs.internals.console.Console" title="cleep.libs.internals.console.Console"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleep.libs.internals.console.Console</span></code></a></p>
<p>Create console with advanced feature like find function to match pattern on stdout</p>
<dl class="method">
<dt id="cleep.libs.internals.console.AdvancedConsole.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>command</em>, <em>pattern</em>, <em>options=40</em>, <em>timeout=2.0</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.AdvancedConsole.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all pattern matches in command stdout. Found order is preserved</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> (<em>string</em>) – command to execute</li>
<li><strong>pattern</strong> (<em>string</em>) – search pattern</li>
<li><strong>options</strong> (<em>flag</em>) – regexp flags (see <a class="reference external" href="https://docs.python.org/2/library/re.html#module-contents">https://docs.python.org/2/library/re.html#module-contents</a>)</li>
<li><strong>timeout</strong> (<em>float</em>) – timeout before killing command</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>list of matches:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">(</span><span class="n">group</span> <span class="p">(</span><span class="n">string</span><span class="p">),</span> <span class="n">matches</span> <span class="ow">in</span> <span class="n">group</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">)),</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.console.AdvancedConsole.find_in_string">
<code class="descname">find_in_string</code><span class="sig-paren">(</span><em>string</em>, <em>pattern</em>, <em>options=40</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.AdvancedConsole.find_in_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all pattern matches in specified string. Found order is respected.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>string</strong> (<em>string</em>) – string to search in</li>
<li><strong>pattern</strong> (<em>string</em>) – search pattern</li>
<li><strong>options</strong> (<em>flag</em>) – regexp flags (see <a class="reference external" href="https://docs.python.org/2/library/re.html#module-contents">https://docs.python.org/2/library/re.html#module-contents</a>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>list of matches:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">(</span><span class="n">group</span> <span class="p">(</span><span class="n">string</span><span class="p">),</span> <span class="n">subgroups</span> <span class="p">(</span><span class="nb">tuple</span><span class="p">)),</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cleep.libs.internals.console.Console">
<em class="property">class </em><code class="descname">Console</code><a class="headerlink" href="#cleep.libs.internals.console.Console" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helper class to execute command lines.
You can execute command right now using command method or after a certain amount of time using command_delayed</p>
<dl class="method">
<dt id="cleep.libs.internals.console.Console._Console__process_lines">
<code class="descname">_Console__process_lines</code><span class="sig-paren">(</span><em>lines</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.Console._Console__process_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove end of line char for given lines and convert lines to unicode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lines</strong> (<em>list</em>) – list of lines</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Results:</dt>
<dd>list: input list of lines with eol removed</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.console.Console.command">
<code class="descname">command</code><span class="sig-paren">(</span><em>command</em>, <em>timeout=2.0</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.Console.command" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute specified command line with auto kill after timeout</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>command</strong> (<em>string</em>) – command to execute</li>
<li><strong>timeout</strong> (<em>float</em>) – wait timeout before killing process and return command result</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>result of command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">returncode</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">command</span> <span class="k">return</span> <span class="n">code</span>
    <span class="n">error</span> <span class="p">(</span><span class="nb">bool</span><span class="p">):</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">error</span> <span class="n">occured</span><span class="p">,</span>
    <span class="n">killed</span> <span class="p">(</span><span class="nb">bool</span><span class="p">):</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">command</span> <span class="n">was</span> <span class="n">killed</span><span class="p">,</span>
    <span class="n">stdout</span> <span class="p">(</span><span class="nb">list</span><span class="p">):</span> <span class="n">command</span> <span class="n">line</span> <span class="n">output</span>
    <span class="n">stderr</span> <span class="p">(</span><span class="nb">list</span><span class="p">):</span> <span class="n">command</span> <span class="n">line</span> <span class="n">error</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.console.Console.command_delayed">
<code class="descname">command_delayed</code><span class="sig-paren">(</span><em>command</em>, <em>delay</em>, <em>timeout=2.0</em>, <em>callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.Console.command_delayed" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute specified command line after specified delay</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>command</strong> (<em>string</em>) – command to execute</li>
<li><strong>delay</strong> (<em>int</em>) – time to wait before executing command (milliseconds)</li>
<li><strong>timeout</strong> (<em>float</em>) – timeout before killing command</li>
<li><strong>callback</strong> (<em>function</em>) – function called when command is over. Callback will received command result as single function parameter</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>See command function to have more details</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.console.Console.get_last_return_code">
<code class="descname">get_last_return_code</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.Console.get_last_return_code" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED: use returncode from command result
Return last executed command return code</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">return code (can be None)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cleep.libs.internals.console.EndlessConsole">
<em class="property">class </em><code class="descname">EndlessConsole</code><span class="sig-paren">(</span><em>command</em>, <em>callback</em>, <em>callback_end=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.EndlessConsole" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></p>
<p>Helper class to execute long command line (system update…)
This kind of console doesn’t kill command line after timeout. It just let command running
until end of it or if user explicitely requests to stop (or kill) it.</p>
<p>This class implements thread and is non blocking unless you use join function after starting it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">EndlessConsole</span><span class="p">(</span><span class="n">mycmd</span><span class="p">,</span> <span class="n">myclb</span><span class="p">,</span> <span class="n">myendclb</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<p>Subprocess output async reading copied from <a class="reference external" href="https://stackoverflow.com/a/4896288">https://stackoverflow.com/a/4896288</a></p>
<dl class="method">
<dt id="cleep.libs.internals.console.EndlessConsole._EndlessConsole__enqueue_output">
<code class="descname">_EndlessConsole__enqueue_output</code><span class="sig-paren">(</span><em>output</em>, <em>queue</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.EndlessConsole._EndlessConsole__enqueue_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.console.EndlessConsole._EndlessConsole__send_stds">
<code class="descname">_EndlessConsole__send_stds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.EndlessConsole._EndlessConsole__send_stds" title="Permalink to this definition">¶</a></dt>
<dd><p>Read queues and send outputs if available</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if something sent, False otherwise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.console.EndlessConsole._EndlessConsole__stop">
<code class="descname">_EndlessConsole__stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.EndlessConsole._EndlessConsole__stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop command line execution</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.console.EndlessConsole.get_start_time">
<code class="descname">get_start_time</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.EndlessConsole.get_start_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Return process start time</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">start timestamp (with milliseconds)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">float</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.console.EndlessConsole.kill">
<code class="descname">kill</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.EndlessConsole.kill" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop command line execution</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.console.EndlessConsole.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.EndlessConsole.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Console process</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.console.EndlessConsole.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.console.EndlessConsole.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Kill alias</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.crashreport">
<span id="cleep-libs-internals-crashreport-module"></span><h1>cleep.libs.internals.crashreport module<a class="headerlink" href="#module-cleep.libs.internals.crashreport" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.crashreport.CrashReport">
<em class="property">class </em><code class="descname">CrashReport</code><span class="sig-paren">(</span><em>token</em>, <em>product</em>, <em>product_version</em>, <em>libs_version={}</em>, <em>debug=False</em>, <em>disabled_by_core=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.crashreport.CrashReport" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Crash report class</p>
<dl class="method">
<dt id="cleep.libs.internals.crashreport.CrashReport._CrashReport__filter_exception">
<code class="descname">_CrashReport__filter_exception</code><span class="sig-paren">(</span><em>event</em>, <em>hint</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.crashreport.CrashReport._CrashReport__filter_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback used to filter sent exceptions</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.crashreport.CrashReport._CrashReport__set_extra">
<code class="descname">_CrashReport__set_extra</code><span class="sig-paren">(</span><em>scope</em>, <em>more_extra={}</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.crashreport.CrashReport._CrashReport__set_extra" title="Permalink to this definition">¶</a></dt>
<dd><p>Set extra data to specified Sentry scope (typically )</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>scope</strong> – Sentry scope</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.crashreport.CrashReport.add_module_version">
<code class="descname">add_module_version</code><span class="sig-paren">(</span><em>module_name</em>, <em>module_version</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.crashreport.CrashReport.add_module_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Add module version to libs version</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>module_name</strong> (<em>string</em>) – module name</li>
<li><strong>module_version</strong> (<em>string</em>) – module version</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.crashreport.CrashReport.disable">
<code class="descname">disable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.crashreport.CrashReport.disable" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable crash report</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.crashreport.CrashReport.enable">
<code class="descname">enable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.crashreport.CrashReport.enable" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable crash report</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.crashreport.CrashReport.get_infos">
<code class="descname">get_infos</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.crashreport.CrashReport.get_infos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return infos from crash report instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">crash report infos:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">libsversion</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="n">libs</span> <span class="n">version</span> <span class="p">(</span><span class="n">lib</span><span class="p">:</span> <span class="n">version</span><span class="p">),</span>
    <span class="n">product</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">product</span> <span class="n">name</span><span class="p">,</span>
    <span class="n">productversion</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">product</span> <span class="n">version</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.crashreport.CrashReport.is_enabled">
<code class="descname">is_enabled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.crashreport.CrashReport.is_enabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if crash report is enabled</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if enabled</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.crashreport.CrashReport.manual_report">
<code class="descname">manual_report</code><span class="sig-paren">(</span><em>message</em>, <em>extra=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.crashreport.CrashReport.manual_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Report manually a crash report dumping current stack trace to report error</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>message</strong> (<em>string</em>) – message to attach to crash report</li>
<li><strong>extra</strong> (<em>dict</em>) – extra metadata to post with the report</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.crashreport.CrashReport.report_exception">
<code class="descname">report_exception</code><span class="sig-paren">(</span><em>extra=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.crashreport.CrashReport.report_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception handler that report crashes. It automatically include stack trace</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>extra</strong> (<em>dict</em>) – extra metadata to post with the report</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.criticalresources">
<span id="cleep-libs-internals-criticalresources-module"></span><h1>cleep.libs.internals.criticalresources module<a class="headerlink" href="#module-cleep.libs.internals.criticalresources" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.criticalresources.CriticalResources">
<em class="property">class </em><code class="descname">CriticalResources</code><span class="sig-paren">(</span><em>debug_enabled</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.criticalresources.CriticalResources" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to handle critical resources such as audio hardware resource or something else that mustn’t
be called twice at the same time.</p>
<p>This class only offers a smart resource lock mechanism for developers. It does not garantee to really
lock a resource if another application wants to use directly the same (hardware or software) resource.</p>
<p>Refer to Cleep resources directory to know available resources. Feel free to make pull request to add
new ones.</p>
<p>A typical exemple of resource lock is audio capture. 2 applications can’t access at the same time
the microphone which results of problem during program execution. This class try to resolve that problem
giving a possibilty to acquire the resource, release it and acquire it again if necessary.</p>
<dl class="attribute">
<dt id="cleep.libs.internals.criticalresources.CriticalResources.PYTHON_CLEEP_IMPORT_PATH">
<code class="descname">PYTHON_CLEEP_IMPORT_PATH</code><em class="property"> = 'cleep.resources.'</em><a class="headerlink" href="#cleep.libs.internals.criticalresources.CriticalResources.PYTHON_CLEEP_IMPORT_PATH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.criticalresources.CriticalResources.RESOURCES_DIR">
<code class="descname">RESOURCES_DIR</code><em class="property"> = '../../resources'</em><a class="headerlink" href="#cleep.libs.internals.criticalresources.CriticalResources.RESOURCES_DIR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.criticalresources.CriticalResources._CriticalResources__get_resource_class_name">
<code class="descname">_CriticalResources__get_resource_class_name</code><span class="sig-paren">(</span><em>filename</em>, <em>module</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.criticalresources.CriticalResources._CriticalResources__get_resource_class_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for resource class name trying to match filename with item in module</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>string</em>) – filename (without extension)</li>
<li><strong>module</strong> (<em>module</em>) – python module</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.criticalresources.CriticalResources._CriticalResources__is_resource_referenced">
<code class="descname">_CriticalResources__is_resource_referenced</code><span class="sig-paren">(</span><em>resource_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.criticalresources.CriticalResources._CriticalResources__is_resource_referenced" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if resource name is referenced</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_name</strong> (<em>string</em>) – resource name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if resource is referenced, False otherwise</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.criticalresources.CriticalResources._CriticalResources__load_resources">
<code class="descname">_CriticalResources__load_resources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.criticalresources.CriticalResources._CriticalResources__load_resources" title="Permalink to this definition">¶</a></dt>
<dd><p>Load existing resources</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.criticalresources.CriticalResources._CriticalResources__report_exception">
<code class="descname">_CriticalResources__report_exception</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.criticalresources.CriticalResources._CriticalResources__report_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Report exception using crash report instance if configured</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.criticalresources.CriticalResources.acquire_resource">
<code class="descname">acquire_resource</code><span class="sig-paren">(</span><em>module_name</em>, <em>resource_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.criticalresources.CriticalResources.acquire_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to acquire resource. It will call acquired_resource callback once resource acquired</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_name</strong> (<em>string</em>) – existing resource name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">acquire resource task</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#cleep.libs.internals.task.Task" title="cleep.libs.internals.task.Task">Task</a></td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – if resource does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.criticalresources.CriticalResources.get_resources">
<code class="descname">get_resources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.criticalresources.CriticalResources.get_resources" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of existing resources</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of resource names</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.criticalresources.CriticalResources.is_resource_permanently_acquired">
<code class="descname">is_resource_permanently_acquired</code><span class="sig-paren">(</span><em>resource_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.criticalresources.CriticalResources.is_resource_permanently_acquired" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if specified resource is permanently acquired</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_name</strong> (<em>string</em>) – resource name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if permanently acquired</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.criticalresources.CriticalResources.register_resource">
<code class="descname">register_resource</code><span class="sig-paren">(</span><em>module_name</em>, <em>resource_name</em>, <em>acquired_callback</em>, <em>need_release_callback</em>, <em>permanent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.criticalresources.CriticalResources.register_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Register single resource usage</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>module_name</strong> (<em>string</em>) – module name which registers the resource</li>
<li><strong>resource_name</strong> (<em>string</em>) – resource name (format: &lt;resource&gt; or &lt;resource&gt;.&lt;subresource&gt;)</li>
<li><strong>acquired_callback</strong> (<em>function</em>) – function called when resource is acquired</li>
<li><strong>need_release_callback</strong> (<em>function</em>) – function called when resource needs to be release</li>
<li><strong>permanent</strong> (<em>bool</em>) – True if module declares the need to use the resource permanently.
If other module needs to acquire the resource, the permanent module
will release temporarly the resource and acquire it again automatically.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – if resource does not exist or resource already have permanent module configured</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.criticalresources.CriticalResources.release_resource">
<code class="descname">release_resource</code><span class="sig-paren">(</span><em>module_name</em>, <em>resource_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.criticalresources.CriticalResources.release_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Release specified resource</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>module_name</strong> (<em>string</em>) – module name that releases the resource</li>
<li><strong>resource_name</strong> (<em>string</em>) – resource name to release</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">release resource task</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="#cleep.libs.internals.task.Task" title="cleep.libs.internals.task.Task">Task</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal notranslate"><span class="pre">Exception</span></code> – if resource does not exist</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.criticalresources.CriticalResources.set_crash_report">
<code class="descname">set_crash_report</code><span class="sig-paren">(</span><em>crash_report</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.criticalresources.CriticalResources.set_crash_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Set crash report</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>crash_report</strong> (<a class="reference internal" href="#cleep.libs.internals.crashreport.CrashReport" title="cleep.libs.internals.crashreport.CrashReport"><em>CrashReport</em></a>) – CrashReport instance</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.download">
<span id="cleep-libs-internals-download-module"></span><h1>cleep.libs.internals.download module<a class="headerlink" href="#module-cleep.libs.internals.download" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.download.Download">
<em class="property">class </em><code class="descname">Download</code><span class="sig-paren">(</span><em>cleep_filesystem</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Download file helper</p>
<dl class="attribute">
<dt id="cleep.libs.internals.download.Download.CACHED_FILE_PREFIX">
<code class="descname">CACHED_FILE_PREFIX</code><em class="property"> = 'cleep_cached'</em><a class="headerlink" href="#cleep.libs.internals.download.Download.CACHED_FILE_PREFIX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.download.Download.DOWNLOAD_FILE_PREFIX">
<code class="descname">DOWNLOAD_FILE_PREFIX</code><em class="property"> = 'cleep_download'</em><a class="headerlink" href="#cleep.libs.internals.download.Download.DOWNLOAD_FILE_PREFIX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.download.Download.STATUS_CACHED">
<code class="descname">STATUS_CACHED</code><em class="property"> = 8</em><a class="headerlink" href="#cleep.libs.internals.download.Download.STATUS_CACHED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.download.Download.STATUS_CANCELED">
<code class="descname">STATUS_CANCELED</code><em class="property"> = 7</em><a class="headerlink" href="#cleep.libs.internals.download.Download.STATUS_CANCELED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.download.Download.STATUS_DONE">
<code class="descname">STATUS_DONE</code><em class="property"> = 6</em><a class="headerlink" href="#cleep.libs.internals.download.Download.STATUS_DONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.download.Download.STATUS_DOWNLOADING">
<code class="descname">STATUS_DOWNLOADING</code><em class="property"> = 1</em><a class="headerlink" href="#cleep.libs.internals.download.Download.STATUS_DOWNLOADING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.download.Download.STATUS_DOWNLOADING_NOSIZE">
<code class="descname">STATUS_DOWNLOADING_NOSIZE</code><em class="property"> = 2</em><a class="headerlink" href="#cleep.libs.internals.download.Download.STATUS_DOWNLOADING_NOSIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.download.Download.STATUS_ERROR">
<code class="descname">STATUS_ERROR</code><em class="property"> = 3</em><a class="headerlink" href="#cleep.libs.internals.download.Download.STATUS_ERROR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.download.Download.STATUS_ERROR_BADCHECKSUM">
<code class="descname">STATUS_ERROR_BADCHECKSUM</code><em class="property"> = 5</em><a class="headerlink" href="#cleep.libs.internals.download.Download.STATUS_ERROR_BADCHECKSUM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.download.Download.STATUS_ERROR_INVALIDSIZE">
<code class="descname">STATUS_ERROR_INVALIDSIZE</code><em class="property"> = 4</em><a class="headerlink" href="#cleep.libs.internals.download.Download.STATUS_ERROR_INVALIDSIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.download.Download.STATUS_IDLE">
<code class="descname">STATUS_IDLE</code><em class="property"> = 0</em><a class="headerlink" href="#cleep.libs.internals.download.Download.STATUS_IDLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.download.Download.TMP_FILE_PREFIX">
<code class="descname">TMP_FILE_PREFIX</code><em class="property"> = 'cleep_tmp'</em><a class="headerlink" href="#cleep.libs.internals.download.Download.TMP_FILE_PREFIX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download._Download__send_download_end">
<code class="descname">_Download__send_download_end</code><span class="sig-paren">(</span><em>status</em>, <em>filepath</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download._Download__send_download_end" title="Permalink to this definition">¶</a></dt>
<dd><p>Call download end callback if configured</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>status</strong> (<em>int</em>) – final download status</li>
<li><strong>filepath</strong> (<em>string</em>) – downloaded local filepath or None if download failed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download._Download__send_download_status">
<code class="descname">_Download__send_download_status</code><span class="sig-paren">(</span><em>status</em>, <em>size</em>, <em>percent</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download._Download__send_download_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Call download status callback if configured</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>status</strong> (<em>int</em>) – current download status</li>
<li><strong>size</strong> (<em>int</em>) – downloaded filesize (bytes)</li>
<li><strong>percent</strong> (<em>int</em>) – percentage of download</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download.add_auth_bearer">
<code class="descname">add_auth_bearer</code><span class="sig-paren">(</span><em>bearer</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download.add_auth_bearer" title="Permalink to this definition">¶</a></dt>
<dd><p>Add auth bearer for download authentication</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bearer</strong> (<em>string</em>) – bearer</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download.add_auth_token">
<code class="descname">add_auth_token</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download.add_auth_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Add auth token for download authentication</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>token</strong> (<em>string</em>) – auth token</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download.cancel">
<code class="descname">cancel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download.cancel" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel current download (only possible for download_file_async)</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download.download_content">
<code class="descname">download_content</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download.download_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Download file content from specified url.
This function is blocking.
Prefer using this function to download small files.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>url</strong> (<em>string</em>) – url of file to download</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">download status and downloaded content:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">status</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">see</span> <span class="n">STATUS_XXX</span> <span class="k">for</span> <span class="n">possible</span> <span class="n">values</span><span class="p">,</span>
    <span class="n">content</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">downloaded</span> <span class="n">content</span>
<span class="p">)</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download.download_file">
<code class="descname">download_file</code><span class="sig-paren">(</span><em>url</em>, <em>end_callback=None</em>, <em>check_sha1=None</em>, <em>check_sha256=None</em>, <em>check_md5=None</em>, <em>cache_filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download.download_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Download specified file url and check its integrity if specified.
This function is blocking. Run download_file_async if you need to download a file asynchronously</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>url</strong> (<em>string</em>) – url to download</li>
<li><strong>end_callback</strong> (<em>function</em>) – function called when download is terminated (params: status (int), downloaded filepath (string))</li>
<li><strong>check_sha1</strong> (<em>string</em>) – sha1 key to check</li>
<li><strong>check_sha256</strong> (<em>string</em>) – sha256 key to check</li>
<li><strong>check_md5</strong> (<em>string</em>) – md5 key to check</li>
<li><strong>cache_filename</strong> (<em>string</em>) – specify output filename and enable caching (the file will not be purged automatically)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>download status and downloaded filepath (or None if error occured)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">status</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">download</span> <span class="n">status</span> <span class="p">(</span><span class="n">see</span> <span class="n">STATUS_XXX</span><span class="p">),</span>
    <span class="n">filepath</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">downloaded</span> <span class="n">filepath</span>
<span class="p">)</span>
</pre></div>
</div>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download.download_file_async">
<code class="descname">download_file_async</code><span class="sig-paren">(</span><em>url</em>, <em>end_callback</em>, <em>status_callback=None</em>, <em>check_sha1=None</em>, <em>check_sha256=None</em>, <em>check_md5=None</em>, <em>cache_filename=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download.download_file_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as download_file function but embedded in Task instance to run it in background
Call cancel instance function to stop current download</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> (<em>string</em>) – url to download</li>
<li><strong>end_callback</strong> (<em>function</em>) – function called when download is terminated (params: status (int), filepath (string))</li>
<li><strong>status_callback</strong> (<em>function</em>) – status callback. (params: status (int), filesize (long), percent (int))</li>
<li><strong>check_sha1</strong> (<em>string</em>) – sha1 key to check</li>
<li><strong>check_sha256</strong> (<em>string</em>) – sha256 key to check</li>
<li><strong>check_md5</strong> (<em>string</em>) – md5 key to check</li>
<li><strong>cache_filename</strong> (<em>string</em>) – specify output filename and enable caching (the file will not be purged automatically)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download.generate_md5">
<code class="descname">generate_md5</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download.generate_md5" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate MD5 checksum for specified file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_path</strong> (<em>string</em>) – file path</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download.generate_sha1">
<code class="descname">generate_sha1</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download.generate_sha1" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate SHA1 checksum for specified file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_path</strong> (<em>string</em>) – file path</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download.generate_sha256">
<code class="descname">generate_sha256</code><span class="sig-paren">(</span><em>file_path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download.generate_sha256" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate SHA256 checksum for specified file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>file_path</strong> (<em>string</em>) – file path</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download.get_cached_files">
<code class="descname">get_cached_files</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download.get_cached_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of cached files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of cached files:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="n">filename</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">real</span> <span class="n">filename</span><span class="p">,</span>
        <span class="n">filepath</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">full</span> <span class="n">file</span> <span class="n">path</span><span class="p">,</span>
        <span class="n">filesize</span> <span class="p">(</span><span class="n">long</span><span class="p">):</span> <span class="n">file</span> <span class="n">size</span>
    <span class="p">}</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download.is_file_cached">
<code class="descname">is_file_cached</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download.is_file_cached" title="Permalink to this definition">¶</a></dt>
<dd><p>Return infos if file is already downloaded and hence cached</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filename</strong> (<em>string</em>) – filename to search</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">cached file infos or None if file not cached:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">filename</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">real</span> <span class="n">filename</span><span class="p">,</span>
    <span class="n">filepath</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">full</span> <span class="n">file</span> <span class="n">path</span><span class="p">,</span>
    <span class="n">filesize</span> <span class="p">(</span><span class="n">long</span><span class="p">):</span> <span class="n">file</span> <span class="n">size</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.download.Download.purge_files">
<code class="descname">purge_files</code><span class="sig-paren">(</span><em>force_all=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.download.Download.purge_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all files that stay from previous processes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>force_all</strong> (<em>bool</em>) – force deletion of all files (cached ones too)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.drivers">
<span id="cleep-libs-internals-drivers-module"></span><h1>cleep.libs.internals.drivers module<a class="headerlink" href="#module-cleep.libs.internals.drivers" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.drivers.Drivers">
<em class="property">class </em><code class="descname">Drivers</code><span class="sig-paren">(</span><em>debug_enabled</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.drivers.Drivers" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Drivers handler</p>
<dl class="method">
<dt id="cleep.libs.internals.drivers.Drivers.get_all_drivers">
<code class="descname">get_all_drivers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.drivers.Drivers.get_all_drivers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all drivers</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">map of drivers</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.drivers.Drivers.get_driver">
<code class="descname">get_driver</code><span class="sig-paren">(</span><em>driver_type</em>, <em>driver_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.drivers.Drivers.get_driver" title="Permalink to this definition">¶</a></dt>
<dd><p>Return specified driver instance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>driver_type</strong> (<em>string</em>) – driver type (see Driver.DRIVER_XXX values)</li>
<li><strong>driver_name</strong> (<em>string</em>) – driver name</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">driver instance or None if no driver found</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference internal" href="cleep.libs.drivers.html#cleep.libs.drivers.driver.Driver" title="cleep.libs.drivers.driver.Driver">Driver</a></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">InvalidParameter</span></code> – if one of function parameter is invalid</li>
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">MissingParameter</span></code> – if one of function parameter is missing</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.drivers.Drivers.get_drivers">
<code class="descname">get_drivers</code><span class="sig-paren">(</span><em>driver_type</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.drivers.Drivers.get_drivers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return drives for specified type</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>driver_type</strong> (<em>string</em>) – driver type (see Driver.DRIVER_XXX values)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">drivers configuration</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.drivers.Drivers.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>driver</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.drivers.Drivers.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register specified driver</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>driver</strong> (<a class="reference internal" href="cleep.libs.drivers.html#cleep.libs.drivers.driver.Driver" title="cleep.libs.drivers.driver.Driver"><em>Driver</em></a>) – Driver instance</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">InvalidParameter</span></code> – if a parameter is invalid</li>
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">MissingParameter</span></code> – if a parameter is missing</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.event">
<span id="cleep-libs-internals-event-module"></span><h1>cleep.libs.internals.event module<a class="headerlink" href="#module-cleep.libs.internals.event" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.event.Event">
<em class="property">class </em><code class="descname">Event</code><span class="sig-paren">(</span><em>bus</em>, <em>formatters_broker</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.event.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base event class</p>
<dl class="attribute">
<dt id="cleep.libs.internals.event.Event.EVENT_CHARTABLE">
<code class="descname">EVENT_CHARTABLE</code><em class="property"> = False</em><a class="headerlink" href="#cleep.libs.internals.event.Event.EVENT_CHARTABLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.event.Event.EVENT_CORE">
<code class="descname">EVENT_CORE</code><em class="property"> = False</em><a class="headerlink" href="#cleep.libs.internals.event.Event.EVENT_CORE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.event.Event.EVENT_NAME">
<code class="descname">EVENT_NAME</code><em class="property"> = ''</em><a class="headerlink" href="#cleep.libs.internals.event.Event.EVENT_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.event.Event.EVENT_PARAMS">
<code class="descname">EVENT_PARAMS</code><em class="property"> = []</em><a class="headerlink" href="#cleep.libs.internals.event.Event.EVENT_PARAMS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.event.Event._check_params">
<code class="descname">_check_params</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.event.Event._check_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Check event parameters</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>dict</em>) – event parameters</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if params are valid, False otherwise</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.event.Event.get_chart_values">
<code class="descname">get_chart_values</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.event.Event.get_chart_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns chart values</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>dict</em>) – event parameters</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of field+value or None if no value<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span>
        <span class="n">field</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">field</span> <span class="n">name</span><span class="p">,</span>
        <span class="n">value</span> <span class="p">(</span><span class="nb">any</span><span class="p">):</span> <span class="n">value</span>
    <span class="p">},</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.event.Event.render">
<code class="descname">render</code><span class="sig-paren">(</span><em>params=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.event.Event.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Render event to renderers</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>dict</em>) – list of event parameters</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if at least one event was renderered successfully</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.event.Event.send">
<code class="descname">send</code><span class="sig-paren">(</span><em>params=None</em>, <em>device_id=None</em>, <em>to=None</em>, <em>render=True</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.event.Event.send" title="Permalink to this definition">¶</a></dt>
<dd><p>Push event message on bus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>params</strong> (<em>dict</em>) – event parameters.</li>
<li><strong>device_id</strong> (<em>string</em>) – device id that send event. If not specified event cannot be monitored.</li>
<li><strong>to</strong> (<em>string</em>) – event recipient. If not specified, event will be broadcasted. (to send to ui client set ‘rpc’)</li>
<li><strong>render</strong> (<em>bool</em>) – also propagate event to renderer. False to disable it</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if event sent successfully</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.event.Event.set_renderable">
<code class="descname">set_renderable</code><span class="sig-paren">(</span><em>renderer_name</em>, <em>renderable</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.event.Event.set_renderable" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable event rendering for specified renderer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>renderer_name</strong> (<em>string</em>) – renderer name</li>
<li><strong>renderable</strong> (<em>bool</em>) – True to render event for specified renderer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.eventsbroker">
<span id="cleep-libs-internals-eventsbroker-module"></span><h1>cleep.libs.internals.eventsbroker module<a class="headerlink" href="#module-cleep.libs.internals.eventsbroker" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.eventsbroker.EventsBroker">
<em class="property">class </em><code class="descname">EventsBroker</code><span class="sig-paren">(</span><em>debug_enabled</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.eventsbroker.EventsBroker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Events broker
The goal of this broker is to centralize events to reference all them all in the core.
It is also used to check event content before posting them and make sure it is compatible with core.</p>
<dl class="attribute">
<dt id="cleep.libs.internals.eventsbroker.EventsBroker.MODULES_DIR">
<code class="descname">MODULES_DIR</code><em class="property"> = '../../modules'</em><a class="headerlink" href="#cleep.libs.internals.eventsbroker.EventsBroker.MODULES_DIR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.eventsbroker.EventsBroker.PYTHON_CLEEP_IMPORT_PATH">
<code class="descname">PYTHON_CLEEP_IMPORT_PATH</code><em class="property"> = 'cleep.modules.'</em><a class="headerlink" href="#cleep.libs.internals.eventsbroker.EventsBroker.PYTHON_CLEEP_IMPORT_PATH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.eventsbroker.EventsBroker._EventsBroker__get_event_class_name">
<code class="descname">_EventsBroker__get_event_class_name</code><span class="sig-paren">(</span><em>filename</em>, <em>module</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.eventsbroker.EventsBroker._EventsBroker__get_event_class_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for event class name trying to match filename with item in module</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>string</em>) – filename (without extension)</li>
<li><strong>module</strong> (<em>module</em>) – python module</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.eventsbroker.EventsBroker._EventsBroker__load_events">
<code class="descname">_EventsBroker__load_events</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.eventsbroker.EventsBroker._EventsBroker__load_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Load existing events</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.eventsbroker.EventsBroker._EventsBroker__load_events_from_modules_dir">
<code class="descname">_EventsBroker__load_events_from_modules_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.eventsbroker.EventsBroker._EventsBroker__load_events_from_modules_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Load existing events from modules directory.
Create an event instance (singleton) for each ones.</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.eventsbroker.EventsBroker._EventsBroker__save_event">
<code class="descname">_EventsBroker__save_event</code><span class="sig-paren">(</span><em>class_</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.eventsbroker.EventsBroker._EventsBroker__save_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Save event entry in internal members</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>class</strong> (<em>class</em>) – event class ready to be instanciated</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.eventsbroker.EventsBroker.configure">
<code class="descname">configure</code><span class="sig-paren">(</span><em>bootstrap</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.eventsbroker.EventsBroker.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure broker loading needed objects (formatters, events…)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bootstrap</strong> (<em>dict</em>) – bootstrap objects</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.eventsbroker.EventsBroker.get_event_instance">
<code class="descname">get_event_instance</code><span class="sig-paren">(</span><em>event_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.eventsbroker.EventsBroker.get_event_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Return event instance according to event name
It also register event callers for event</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>event_name</strong> (<em>string</em>) – full event name (xxx.xxx.xxx)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Event instance</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Raise:</dt>
<dd>Exception if event not exists</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.eventsbroker.EventsBroker.get_module_events">
<code class="descname">get_module_events</code><span class="sig-paren">(</span><em>module_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.eventsbroker.EventsBroker.get_module_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of events handled by specified module</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>module_name</strong> (<em>string</em>) – module name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of events</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Exception if module name does not exist</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.eventsbroker.EventsBroker.get_modules_events">
<code class="descname">get_modules_events</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.eventsbroker.EventsBroker.get_modules_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dict of modules events</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dict of events:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">module1</span> <span class="p">(</span><span class="nb">list</span><span class="p">):</span> <span class="p">[</span><span class="n">event_name</span> <span class="p">(</span><span class="n">string</span><span class="p">),</span> <span class="n">event_name</span> <span class="p">(</span><span class="n">string</span><span class="p">),</span> <span class="o">...</span><span class="p">],</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.eventsbroker.EventsBroker.get_used_events">
<code class="descname">get_used_events</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.eventsbroker.EventsBroker.get_used_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Return dict of used events</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dict of used events:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">event1</span><span class="p">:</span> <span class="p">{</span>
        <span class="n">modules</span> <span class="p">(</span><span class="nb">list</span><span class="p">):</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">modules</span> <span class="n">that</span> <span class="n">reference</span> <span class="n">the</span> <span class="n">event</span><span class="p">,</span>
        <span class="n">profiles</span> <span class="p">(</span><span class="nb">list</span><span class="p">[</span><span class="n">Event</span><span class="p">]):</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">profiles</span> <span class="n">that</span> <span class="n">references</span> <span class="n">the</span> <span class="n">event</span>
    <span class="p">},</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.externalbus">
<span id="cleep-libs-internals-externalbus-module"></span><h1>cleep.libs.internals.externalbus module<a class="headerlink" href="#module-cleep.libs.internals.externalbus" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.externalbus.ExternalBus">
<em class="property">class </em><code class="descname">ExternalBus</code><span class="sig-paren">(</span><em>on_message_received</em>, <em>on_peer_connected</em>, <em>on_peer_disconnected</em>, <em>debug_enabled</em>, <em>crash_report</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.externalbus.ExternalBus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>ExternalBus base class</p>
<p>External bus is only based on event handling.
This way of doing forces developper to handle async requests only.
This also reduces bus complexity.</p>
<dl class="docutils">
<dt>This class provides:</dt>
<dd><ul class="first last simple">
<li>peers list handling</li>
<li>base bus functions canvas (not implementation)</li>
<li>internal logger with debug enabled or not</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="cleep.libs.internals.externalbus.ExternalBus._add_peer">
<code class="descname">_add_peer</code><span class="sig-paren">(</span><em>peer_id</em>, <em>infos</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.externalbus.ExternalBus._add_peer" title="Permalink to this definition">¶</a></dt>
<dd><p>Save peer infos</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>peer_id</strong> (<em>string</em>) – peer identifier</li>
<li><strong>infos</strong> (<em>dict</em>) – associated peer informations</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.externalbus.ExternalBus._parse_headers">
<code class="descname">_parse_headers</code><span class="sig-paren">(</span><em>headers</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.externalbus.ExternalBus._parse_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse peer connection header</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Must be implemented</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>headers</strong> (<em>dict</em>) – received headers from peer connection</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">headers dict with parsed data as needed (json=&gt;dict|list, ‘1’|’0’=&gt;True|False, ‘666’=&gt;int(666), …)</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.externalbus.ExternalBus._remove_peer">
<code class="descname">_remove_peer</code><span class="sig-paren">(</span><em>peer_id</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.externalbus.ExternalBus._remove_peer" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove peer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>peer_id</strong> (<em>string</em>) – peer identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict or None if peer not found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.externalbus.ExternalBus.broadcast_event">
<code class="descname">broadcast_event</code><span class="sig-paren">(</span><em>event</em>, <em>params</em>, <em>device_id</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.externalbus.ExternalBus.broadcast_event" title="Permalink to this definition">¶</a></dt>
<dd><p>broadcast event message to all connected peers</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Must be implemented</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>event</strong> (<em>string</em>) – event name</li>
<li><strong>params</strong> (<em>dict</em>) – event parameters</li>
<li><strong>device_id</strong> (<em>uuid</em>) – device identifier that emits event</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.externalbus.ExternalBus.get_peer_infos">
<code class="descname">get_peer_infos</code><span class="sig-paren">(</span><em>peer_id</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.externalbus.ExternalBus.get_peer_infos" title="Permalink to this definition">¶</a></dt>
<dd><p>Return peer infos</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>peer_id</strong> (<em>string</em>) – peer identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict or None if peer not found</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.externalbus.ExternalBus.get_peers">
<code class="descname">get_peers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.externalbus.ExternalBus.get_peers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return connected peers</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.externalbus.ExternalBus.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.externalbus.ExternalBus.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run external bus process</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Must be implemented</p>
</div>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.externalbus.ExternalBus.run_once">
<code class="descname">run_once</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.externalbus.ExternalBus.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Run external bus process once</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Must be implemented</p>
</div>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.externalbus.ExternalBus.send_event">
<code class="descname">send_event</code><span class="sig-paren">(</span><em>event</em>, <em>params</em>, <em>device_id</em>, <em>peer_id</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.externalbus.ExternalBus.send_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Send event message to specified peer</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Must be implemented</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>event</strong> (<em>string</em>) – event name</li>
<li><strong>params</strong> (<em>dict</em>) – event parameters</li>
<li><strong>device_id</strong> (<em>uuid</em>) – device identifier that emits event</li>
<li><strong>peer_id</strong> (<em>string</em>) – message recipient</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cleep.libs.internals.externalbus.ExternalBusMessage">
<em class="property">class </em><code class="descname">ExternalBusMessage</code><span class="sig-paren">(</span><em>peer_infos=None</em>, <em>data={}</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.externalbus.ExternalBusMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handle ExternalBus message data</p>
<dl class="method">
<dt id="cleep.libs.internals.externalbus.ExternalBusMessage.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.externalbus.ExternalBusMessage.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Build dict with class content</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">members on a dict:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">event</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">event</span> <span class="n">name</span>
    <span class="n">device_id</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">device</span> <span class="n">identifier</span>
    <span class="n">params</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="n">event</span> <span class="n">parameters</span> <span class="p">(</span><span class="n">can</span> <span class="n">be</span> <span class="kc">None</span><span class="p">)</span>
    <span class="n">to</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">message</span> <span class="n">recipient</span>
    <span class="n">peers_macs</span> <span class="p">(</span><span class="nb">list</span><span class="p">):</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">peers</span> <span class="n">mac</span> <span class="n">addresses</span>
    <span class="n">peer_hostname</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">peer</span> <span class="n">hostname</span>
    <span class="n">peer_ip</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">current</span> <span class="n">peer</span> <span class="n">ip</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.externalbus.ExternalBusMessage.to_reduced_dict">
<code class="descname">to_reduced_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.externalbus.ExternalBusMessage.to_reduced_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Build dict with minimum class content.
It’s useful to get reduced dict when you send message through external bus</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">minimum members on dict:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">event</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">event</span> <span class="n">name</span>
    <span class="n">device_id</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">device</span> <span class="n">identifier</span>
    <span class="n">params</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="n">event</span> <span class="n">parameters</span> <span class="p">(</span><span class="n">can</span> <span class="n">be</span> <span class="kc">None</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.install">
<span id="cleep-libs-internals-install-module"></span><h1>cleep.libs.internals.install module<a class="headerlink" href="#module-cleep.libs.internals.install" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.install.Install">
<em class="property">class </em><code class="descname">Install</code><span class="sig-paren">(</span><em>cleep_filesystem</em>, <em>crash_report</em>, <em>status_callback</em>, <em>blocking=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Install helper</p>
<p>This class helps you to install different kind of things:</p>
<blockquote>
<div><ul class="simple">
<li>deb files using dpkg</li>
<li>tar.gz using tar</li>
<li>zip using unzip</li>
<li>Cleep module install/uninstall/update (ok class name is not correct ;) )</li>
<li>system packages install/uninst using apt-get command</li>
</ul>
</div></blockquote>
<dl class="attribute">
<dt id="cleep.libs.internals.install.Install.STATUS_CANCELED">
<code class="descname">STATUS_CANCELED</code><em class="property"> = 4</em><a class="headerlink" href="#cleep.libs.internals.install.Install.STATUS_CANCELED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.install.Install.STATUS_DONE">
<code class="descname">STATUS_DONE</code><em class="property"> = 2</em><a class="headerlink" href="#cleep.libs.internals.install.Install.STATUS_DONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.install.Install.STATUS_ERROR">
<code class="descname">STATUS_ERROR</code><em class="property"> = 3</em><a class="headerlink" href="#cleep.libs.internals.install.Install.STATUS_ERROR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.install.Install.STATUS_IDLE">
<code class="descname">STATUS_IDLE</code><em class="property"> = 0</em><a class="headerlink" href="#cleep.libs.internals.install.Install.STATUS_IDLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.install.Install.STATUS_PROCESSING">
<code class="descname">STATUS_PROCESSING</code><em class="property"> = 1</em><a class="headerlink" href="#cleep.libs.internals.install.Install.STATUS_PROCESSING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install._Install__callback_archive">
<code class="descname">_Install__callback_archive</code><span class="sig-paren">(</span><em>stdout</em>, <em>stderr</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install._Install__callback_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Deb install callback</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stdout</strong> (<em>list</em>) – console stdout</li>
<li><strong>stderr</strong> (<em>list</em>) – console stderr</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install._Install__callback_deb">
<code class="descname">_Install__callback_deb</code><span class="sig-paren">(</span><em>status</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install._Install__callback_deb" title="Permalink to this definition">¶</a></dt>
<dd><p>Deb install callback</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>status</strong> (<em>dict</em>) – status dict like returned by InstallDeb get_status function</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install._Install__callback_end">
<code class="descname">_Install__callback_end</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install._Install__callback_end" title="Permalink to this definition">¶</a></dt>
<dd><p>End of process callback</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install._Install__callback_install_module">
<code class="descname">_Install__callback_install_module</code><span class="sig-paren">(</span><em>status</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install._Install__callback_install_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Module install callback</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>status</strong> (<em>dict</em>) – <p>module status:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">module</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">module</span> <span class="n">name</span>
    <span class="n">status</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">module</span> <span class="n">process</span> <span class="n">status</span>
    <span class="n">prescript</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="p">{</span><span class="n">stderr</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">returncode</span><span class="p">}</span>
    <span class="n">postscript</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="p">{</span><span class="n">stderr</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">returncode</span><span class="p">}</span>
    <span class="n">updateprocess</span> <span class="p">(</span><span class="nb">bool</span><span class="p">):</span> <span class="n">uninstall</span> <span class="n">triggered</span> <span class="n">by</span> <span class="n">module</span> <span class="n">update</span>
    <span class="n">process</span> <span class="p">(</span><span class="nb">list</span><span class="p">):</span> <span class="n">process</span> <span class="n">status</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install._Install__callback_package">
<code class="descname">_Install__callback_package</code><span class="sig-paren">(</span><em>stdout</em>, <em>stderr</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install._Install__callback_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Package install callback</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stdout</strong> (<em>list</em>) – console stdout</li>
<li><strong>stderr</strong> (<em>list</em>) – console stderr</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install._Install__callback_quiet">
<code class="descname">_Install__callback_quiet</code><span class="sig-paren">(</span><em>stdout</em>, <em>stderr</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install._Install__callback_quiet" title="Permalink to this definition">¶</a></dt>
<dd><p>Quiet output. Does nothing</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install._Install__callback_uninstall_module">
<code class="descname">_Install__callback_uninstall_module</code><span class="sig-paren">(</span><em>status</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install._Install__callback_uninstall_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Module uninstall callback</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>status</strong> (<em>dict</em>) – <p>module status:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">module</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">module</span> <span class="n">name</span>
    <span class="n">status</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">module</span> <span class="n">process</span> <span class="n">status</span>
    <span class="n">prescript</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="p">{</span><span class="n">stderr</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">returncode</span><span class="p">}</span>
    <span class="n">postscript</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="p">{</span><span class="n">stderr</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">returncode</span><span class="p">}</span>
    <span class="n">updateprocess</span> <span class="p">(</span><span class="nb">bool</span><span class="p">):</span> <span class="n">uninstall</span> <span class="n">triggered</span> <span class="n">by</span> <span class="n">module</span> <span class="n">update</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install._Install__callback_update_module">
<code class="descname">_Install__callback_update_module</code><span class="sig-paren">(</span><em>status</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install._Install__callback_update_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Module update callback</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>status</strong> (<em>dict</em>) – <p>module status:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">module</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">module</span> <span class="n">name</span>
    <span class="n">status</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">module</span> <span class="n">process</span> <span class="n">status</span>
    <span class="n">uninstall</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="p">{</span><span class="n">status</span><span class="p">,</span> <span class="n">prescript</span><span class="p">,</span> <span class="n">postscript</span><span class="p">}</span>
    <span class="n">install</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="p">{</span><span class="n">status</span><span class="p">,</span> <span class="n">prescript</span><span class="p">,</span> <span class="n">postscript</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install._Install__reset_status">
<code class="descname">_Install__reset_status</code><span class="sig-paren">(</span><em>status</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install._Install__reset_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset status</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>status</strong> (<em>int</em>) – status to set (use self.STATUS_XXX)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install.cancel">
<code class="descname">cancel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install.cancel" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel current install</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install.get_status">
<code class="descname">get_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current installation status</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">status:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">status</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">current</span> <span class="n">status</span>
    <span class="n">stdout</span> <span class="p">(</span><span class="nb">list</span><span class="p">):</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">messages</span> <span class="n">received</span> <span class="n">on</span> <span class="n">console</span>
    <span class="n">stderr</span> <span class="p">(</span><span class="nb">list</span><span class="p">):</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">messages</span> <span class="n">received</span> <span class="n">on</span> <span class="n">stderr</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install.install_archive">
<code class="descname">install_archive</code><span class="sig-paren">(</span><em>archive</em>, <em>install_path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install.install_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Install archive (.tar.gz, .zip) to specified install path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>archive</strong> (<em>string</em>) – archive full path</li>
<li><strong>install_path</strong> (<em>string</em>) – installation fullpath directory</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if install succeed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install.install_deb">
<code class="descname">install_deb</code><span class="sig-paren">(</span><em>deb</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install.install_deb" title="Permalink to this definition">¶</a></dt>
<dd><p>Install .deb file using dpkg
Cannot be canceled once launched</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if install succeed or None if non blocking</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install.install_module">
<code class="descname">install_module</code><span class="sig-paren">(</span><em>module</em>, <em>module_infos</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install.install_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Install specified module</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This function does not handle filesystem because process could be async.
So take care to enable/disable writings before/after calling it.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>module</strong> (<em>string</em>) – module name to install</li>
<li><strong>modules_infos</strong> (<em>dict</em>) – module infos reported in modules.json</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if module installed or None if non blocking</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install.install_system_package">
<code class="descname">install_system_package</code><span class="sig-paren">(</span><em>package_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install.install_system_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Install package using aptitude</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>package_name</strong> (<em>string</em>) – package name to install</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if install succeed</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install.refresh_system_packages">
<code class="descname">refresh_system_packages</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install.refresh_system_packages" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh sytem packages list</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install.uninstall_module">
<code class="descname">uninstall_module</code><span class="sig-paren">(</span><em>module</em>, <em>module_infos</em>, <em>force=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install.uninstall_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Uninstall specified module</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This function does not handle filesystem because process could be async.
So take care to enable/disable writings before calling it.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>module</strong> (<em>string</em>) – module name to uninstall</li>
<li><strong>modules_infos</strong> (<em>dict</em>) – module infos reported in modules.json</li>
<li><strong>force</strong> (<em>bool</em>) – uninstall module and continue if error occured</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if module uninstalled or None if non blocking</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install.uninstall_system_package">
<code class="descname">uninstall_system_package</code><span class="sig-paren">(</span><em>package_name</em>, <em>purge=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install.uninstall_system_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Install package using aptitude</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>package_name</strong> (<em>string</em>) – package name to install</li>
<li><strong>purge</strong> (<em>bool</em>) – purge package (remove config files)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if install succeed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.install.Install.update_module">
<code class="descname">update_module</code><span class="sig-paren">(</span><em>module</em>, <em>module_infos</em>, <em>force_uninstall=False</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.install.Install.update_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Update specified module
An update executes consecutively uninstall and install action</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This function does not handle filesystem because process could be async.
So take care to enable/disable writings before calling it.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>module</strong> (<em>string</em>) – module name</li>
<li><strong>modules_infos</strong> (<em>dict</em>) – module infos reported in modules.json</li>
<li><strong>force_uninstall</strong> (<em>bool</em>) – force module uninstall even if error occured</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if module updated or None if non blocking</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.installdeb">
<span id="cleep-libs-internals-installdeb-module"></span><h1>cleep.libs.internals.installdeb module<a class="headerlink" href="#module-cleep.libs.internals.installdeb" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.installdeb.InstallDeb">
<em class="property">class </em><code class="descname">InstallDeb</code><span class="sig-paren">(</span><em>cleep_filesystem</em>, <em>crash_report</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Install .deb package using dpkg
Due to quantity of messages, stderr is mixed within stdout to keep message order</p>
<dl class="attribute">
<dt id="cleep.libs.internals.installdeb.InstallDeb.STATUS_DONE">
<code class="descname">STATUS_DONE</code><em class="property"> = 2</em><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb.STATUS_DONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installdeb.InstallDeb.STATUS_ERROR">
<code class="descname">STATUS_ERROR</code><em class="property"> = 3</em><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb.STATUS_ERROR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installdeb.InstallDeb.STATUS_IDLE">
<code class="descname">STATUS_IDLE</code><em class="property"> = 0</em><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb.STATUS_IDLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installdeb.InstallDeb.STATUS_KILLED">
<code class="descname">STATUS_KILLED</code><em class="property"> = 4</em><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb.STATUS_KILLED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installdeb.InstallDeb.STATUS_RUNNING">
<code class="descname">STATUS_RUNNING</code><em class="property"> = 1</em><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb.STATUS_RUNNING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installdeb.InstallDeb.STATUS_TIMEOUT">
<code class="descname">STATUS_TIMEOUT</code><em class="property"> = 5</em><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb.STATUS_TIMEOUT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installdeb.InstallDeb.WATCHDOG_TIMEOUT">
<code class="descname">WATCHDOG_TIMEOUT</code><em class="property"> = 60</em><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb.WATCHDOG_TIMEOUT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installdeb.InstallDeb._InstallDeb__callback_deb">
<code class="descname">_InstallDeb__callback_deb</code><span class="sig-paren">(</span><em>stdout</em>, <em>stderr</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb._InstallDeb__callback_deb" title="Permalink to this definition">¶</a></dt>
<dd><p>Deb install callback</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stdout</strong> (<em>list</em>) – console stdout</li>
<li><strong>stderr</strong> (<em>list</em>) – console stderr</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installdeb.InstallDeb._InstallDeb__callback_end">
<code class="descname">_InstallDeb__callback_end</code><span class="sig-paren">(</span><em>return_code</em>, <em>killed</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb._InstallDeb__callback_end" title="Permalink to this definition">¶</a></dt>
<dd><p>End of process callback</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installdeb.InstallDeb.dry_run">
<code class="descname">dry_run</code><span class="sig-paren">(</span><em>deb</em>, <em>status_callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb.dry_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to install deb archive executing dpkg with –dry-run option
This method is blocking
Process result can be found calling get_status()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>deb</strong> (<em>string</em>) – deb package path</li>
<li><strong>status_callback</strong> (<em>function</em>) – status callback. If not specified use get_status function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if install simulation succeed, False otherwise</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installdeb.InstallDeb.get_status">
<code class="descname">get_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current status</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installdeb.InstallDeb.install">
<code class="descname">install</code><span class="sig-paren">(</span><em>deb</em>, <em>blocking=False</em>, <em>status_callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb.install" title="Permalink to this definition">¶</a></dt>
<dd><p>Install specified .deb file
Please note in non blocking mode you must allow by yourself filesystem writing</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>deb</strong> (<em>string</em>) – deb package path</li>
<li><strong>blocking</strong> (<em>bool</em>) – if True this function is blocking (default is False)</li>
<li><strong>status_callback</strong> (<em>function</em>) – status callback. Must be specified if blocking is False</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if install succeed, False otherwise. None is returned if blocking mode is disabled</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installdeb.InstallDeb.is_terminated">
<code class="descname">is_terminated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb.is_terminated" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if installation terminated</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if terminated</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installdeb.InstallDeb.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installdeb.InstallDeb.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop installation</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.installmodule">
<span id="cleep-libs-internals-installmodule-module"></span><h1>cleep.libs.internals.installmodule module<a class="headerlink" href="#module-cleep.libs.internals.installmodule" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.installmodule.UninstallModule">
<em class="property">class </em><code class="descname">UninstallModule</code><span class="sig-paren">(</span><em>module_name</em>, <em>module_infos</em>, <em>update_process</em>, <em>force_uninstall</em>, <em>status_callback</em>, <em>cleep_filesystem</em>, <em>crash_report</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.UninstallModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cleep.libs.internals.installmodule.CommonProcess</span></code></p>
<p>Uninstall module in background task
This class executes preuninstall script, removes all installed files and executes postuninstall script</p>
<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.UninstallModule.STATUS_ERROR_INTERNAL">
<code class="descname">STATUS_ERROR_INTERNAL</code><em class="property"> = 3</em><a class="headerlink" href="#cleep.libs.internals.installmodule.UninstallModule.STATUS_ERROR_INTERNAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.UninstallModule.STATUS_ERROR_POSTUNINST">
<code class="descname">STATUS_ERROR_POSTUNINST</code><em class="property"> = 6</em><a class="headerlink" href="#cleep.libs.internals.installmodule.UninstallModule.STATUS_ERROR_POSTUNINST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.UninstallModule.STATUS_ERROR_PREUNINST">
<code class="descname">STATUS_ERROR_PREUNINST</code><em class="property"> = 4</em><a class="headerlink" href="#cleep.libs.internals.installmodule.UninstallModule.STATUS_ERROR_PREUNINST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.UninstallModule.STATUS_ERROR_REMOVE">
<code class="descname">STATUS_ERROR_REMOVE</code><em class="property"> = 5</em><a class="headerlink" href="#cleep.libs.internals.installmodule.UninstallModule.STATUS_ERROR_REMOVE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.UninstallModule.STATUS_IDLE">
<code class="descname">STATUS_IDLE</code><em class="property"> = 0</em><a class="headerlink" href="#cleep.libs.internals.installmodule.UninstallModule.STATUS_IDLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.UninstallModule.STATUS_UNINSTALLED">
<code class="descname">STATUS_UNINSTALLED</code><em class="property"> = 2</em><a class="headerlink" href="#cleep.libs.internals.installmodule.UninstallModule.STATUS_UNINSTALLED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.UninstallModule.STATUS_UNINSTALLING">
<code class="descname">STATUS_UNINSTALLING</code><em class="property"> = 1</em><a class="headerlink" href="#cleep.libs.internals.installmodule.UninstallModule.STATUS_UNINSTALLING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.UninstallModule._remove_installed_files">
<code class="descname">_remove_installed_files</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.UninstallModule._remove_installed_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all installed module files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> (<em>Context</em>) – install context</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if operation succeed</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.UninstallModule._run_script">
<code class="descname">_run_script</code><span class="sig-paren">(</span><em>context</em>, <em>script</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.UninstallModule._run_script" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute preinst.sh script</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> (<em>Context</em>) – install context</li>
<li><strong>script</strong> (<em>string</em>) – script to execute (preinst.sh, postinst.sh, …)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if operation succeed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.UninstallModule.get_status">
<code class="descname">get_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.UninstallModule.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current status</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">uninstall status:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">status</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">see</span> <span class="n">STATUS_XXX</span> <span class="k">for</span> <span class="n">available</span> <span class="n">codes</span>
    <span class="n">module</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">module</span> <span class="n">name</span>
    <span class="n">prescript</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="n">preuninst</span> <span class="n">status</span> <span class="p">(</span><span class="n">returncode</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span><span class="p">)</span>
    <span class="n">postscript</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="n">postuninst</span> <span class="n">status</span> <span class="p">(</span><span class="n">returncode</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span><span class="p">)</span>
    <span class="n">updateprocess</span> <span class="p">(</span><span class="nb">bool</span><span class="p">):</span> <span class="n">uninstall</span> <span class="n">triggered</span> <span class="n">by</span> <span class="n">module</span> <span class="n">update</span>
    <span class="n">process</span> <span class="p">(</span><span class="nb">list</span><span class="p">):</span> <span class="n">process</span> <span class="n">status</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.UninstallModule.is_uninstalling">
<code class="descname">is_uninstalling</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.UninstallModule.is_uninstalling" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True is process is running</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if running</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.UninstallModule.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.UninstallModule.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run uninstall</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cleep.libs.internals.installmodule.InstallModule">
<em class="property">class </em><code class="descname">InstallModule</code><span class="sig-paren">(</span><em>module_name</em>, <em>module_infos</em>, <em>update_process</em>, <em>status_callback</em>, <em>cleep_filesystem</em>, <em>crash_report</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">cleep.libs.internals.installmodule.CommonProcess</span></code></p>
<p>Install module in background task</p>
<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.InstallModule.STATUS_CANCELED">
<code class="descname">STATUS_CANCELED</code><em class="property"> = 3</em><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.STATUS_CANCELED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_BACKUP">
<code class="descname">STATUS_ERROR_BACKUP</code><em class="property"> = 8</em><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_BACKUP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_COPY">
<code class="descname">STATUS_ERROR_COPY</code><em class="property"> = 9</em><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_COPY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_DOWNLOAD">
<code class="descname">STATUS_ERROR_DOWNLOAD</code><em class="property"> = 5</em><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_DOWNLOAD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_EXTRACT">
<code class="descname">STATUS_ERROR_EXTRACT</code><em class="property"> = 6</em><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_EXTRACT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_INTERNAL">
<code class="descname">STATUS_ERROR_INTERNAL</code><em class="property"> = 4</em><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_INTERNAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_POSTINST">
<code class="descname">STATUS_ERROR_POSTINST</code><em class="property"> = 10</em><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_POSTINST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_PREINST">
<code class="descname">STATUS_ERROR_PREINST</code><em class="property"> = 7</em><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.STATUS_ERROR_PREINST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.InstallModule.STATUS_IDLE">
<code class="descname">STATUS_IDLE</code><em class="property"> = 0</em><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.STATUS_IDLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.InstallModule.STATUS_INSTALLED">
<code class="descname">STATUS_INSTALLED</code><em class="property"> = 2</em><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.STATUS_INSTALLED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.InstallModule.STATUS_INSTALLING">
<code class="descname">STATUS_INSTALLING</code><em class="property"> = 1</em><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.STATUS_INSTALLING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.InstallModule._backup_scripts">
<code class="descname">_backup_scripts</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule._backup_scripts" title="Permalink to this definition">¶</a></dt>
<dd><p>Backup uninstall scripts</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> (<em>Context</em>) – install context</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if operation succeed</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.InstallModule._copy_module_files">
<code class="descname">_copy_module_files</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule._copy_module_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Install module files</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> (<em>Context</em>) – install context</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if operation succeed</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.InstallModule._download_archive">
<code class="descname">_download_archive</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule._download_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Download module archive</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> (<em>Context</em>) – install context</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if download succeed</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.InstallModule._extract_archive">
<code class="descname">_extract_archive</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule._extract_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract module archive</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> (<em>Context</em>) – install context</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if operation succeed</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.InstallModule._rollback_install">
<code class="descname">_rollback_install</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule._rollback_install" title="Permalink to this definition">¶</a></dt>
<dd><p>Rollback installation, removing installed files</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.InstallModule._run_script">
<code class="descname">_run_script</code><span class="sig-paren">(</span><em>context</em>, <em>script</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule._run_script" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute preinst.sh script</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> (<em>Context</em>) – install context</li>
<li><strong>script</strong> (<em>string</em>) – script to execute (preinst.sh, postinst.sh, …)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if operation succeed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.InstallModule.cancel">
<code class="descname">cancel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.cancel" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel installation</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.InstallModule.get_status">
<code class="descname">get_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current status</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">install status:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">module</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">module</span> <span class="n">name</span>
    <span class="n">status</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">see</span> <span class="n">STATUS_XXX</span> <span class="k">for</span> <span class="n">available</span> <span class="n">codes</span>
    <span class="n">prescript</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="n">preinst</span> <span class="n">status</span> <span class="p">(</span><span class="n">returncode</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span><span class="p">)</span>
    <span class="n">postscript</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="n">postinst</span> <span class="n">status</span> <span class="p">(</span><span class="n">returncode</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span><span class="p">)</span>
    <span class="n">updateprocess</span> <span class="p">(</span><span class="nb">bool</span><span class="p">):</span> <span class="n">install</span> <span class="n">triggered</span> <span class="n">by</span> <span class="n">module</span> <span class="n">update</span>
    <span class="n">process</span> <span class="p">(</span><span class="nb">list</span><span class="p">):</span> <span class="n">process</span> <span class="n">status</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.InstallModule.is_installing">
<code class="descname">is_installing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.is_installing" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True is process is running</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if running</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.InstallModule.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.InstallModule.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run install</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cleep.libs.internals.installmodule.UpdateModule">
<em class="property">class </em><code class="descname">UpdateModule</code><span class="sig-paren">(</span><em>module_name</em>, <em>current_module_infos</em>, <em>new_module_infos</em>, <em>force_uninstall</em>, <em>status_callback</em>, <em>cleep_filesystem</em>, <em>crash_report</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.UpdateModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></p>
<p>Update CleepOS module</p>
<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.UpdateModule.STATUS_ERROR">
<code class="descname">STATUS_ERROR</code><em class="property"> = 3</em><a class="headerlink" href="#cleep.libs.internals.installmodule.UpdateModule.STATUS_ERROR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.UpdateModule.STATUS_IDLE">
<code class="descname">STATUS_IDLE</code><em class="property"> = 0</em><a class="headerlink" href="#cleep.libs.internals.installmodule.UpdateModule.STATUS_IDLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.UpdateModule.STATUS_UPDATED">
<code class="descname">STATUS_UPDATED</code><em class="property"> = 2</em><a class="headerlink" href="#cleep.libs.internals.installmodule.UpdateModule.STATUS_UPDATED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installmodule.UpdateModule.STATUS_UPDATING">
<code class="descname">STATUS_UPDATING</code><em class="property"> = 1</em><a class="headerlink" href="#cleep.libs.internals.installmodule.UpdateModule.STATUS_UPDATING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.UpdateModule._status_callback">
<code class="descname">_status_callback</code><span class="sig-paren">(</span><em>status</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.UpdateModule._status_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Install/Uninstall status callback</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>status</strong> (<em>dict</em>) – status returned by install/uninstall</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.UpdateModule._step">
<code class="descname">_step</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.UpdateModule._step" title="Permalink to this definition">¶</a></dt>
<dd><p>Process step</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.UpdateModule.get_status">
<code class="descname">get_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.UpdateModule.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Return update status</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">current status:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">status</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">see</span> <span class="n">STATUS_XXX</span>
    <span class="n">uninstall</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="nb">dict</span> <span class="k">as</span> <span class="n">returned</span> <span class="n">by</span> <span class="n">uninstall</span> <span class="n">module</span> <span class="n">status</span>
    <span class="n">install</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="nb">dict</span> <span class="k">as</span> <span class="n">returned</span> <span class="n">by</span> <span class="n">install</span> <span class="n">module</span> <span class="n">status</span>
    <span class="n">module</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">module</span> <span class="n">name</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.UpdateModule.is_updating">
<code class="descname">is_updating</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.UpdateModule.is_updating" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True is process is running</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if running</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installmodule.UpdateModule.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installmodule.UpdateModule.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run module update</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.installcleep">
<span id="cleep-libs-internals-installcleep-module"></span><h1>cleep.libs.internals.installcleep module<a class="headerlink" href="#module-cleep.libs.internals.installcleep" title="Permalink to this headline">¶</a></h1>
<dl class="exception">
<dt id="cleep.libs.internals.installcleep.ForcedException">
<em class="property">exception </em><code class="descname">ForcedException</code><span class="sig-paren">(</span><em>code</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installcleep.ForcedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="class">
<dt id="cleep.libs.internals.installcleep.InstallCleep">
<em class="property">class </em><code class="descname">InstallCleep</code><span class="sig-paren">(</span><em>cleep_filesystem</em>, <em>crash_report</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">gevent.threading.Thread</span></code></p>
<p>Install cleep update
This class download latest package from cleep repository, dry run deb install and finally
install deb package.</p>
<dl class="attribute">
<dt id="cleep.libs.internals.installcleep.InstallCleep.STATUS_ERROR_DEB">
<code class="descname">STATUS_ERROR_DEB</code><em class="property"> = 6</em><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep.STATUS_ERROR_DEB" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installcleep.InstallCleep.STATUS_ERROR_DOWNLOAD_CHECKSUM">
<code class="descname">STATUS_ERROR_DOWNLOAD_CHECKSUM</code><em class="property"> = 4</em><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep.STATUS_ERROR_DOWNLOAD_CHECKSUM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installcleep.InstallCleep.STATUS_ERROR_DOWNLOAD_PACKAGE">
<code class="descname">STATUS_ERROR_DOWNLOAD_PACKAGE</code><em class="property"> = 5</em><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep.STATUS_ERROR_DOWNLOAD_PACKAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installcleep.InstallCleep.STATUS_ERROR_INTERNAL">
<code class="descname">STATUS_ERROR_INTERNAL</code><em class="property"> = 3</em><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep.STATUS_ERROR_INTERNAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installcleep.InstallCleep.STATUS_IDLE">
<code class="descname">STATUS_IDLE</code><em class="property"> = 0</em><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep.STATUS_IDLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installcleep.InstallCleep.STATUS_UPDATED">
<code class="descname">STATUS_UPDATED</code><em class="property"> = 2</em><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep.STATUS_UPDATED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.installcleep.InstallCleep.STATUS_UPDATING">
<code class="descname">STATUS_UPDATING</code><em class="property"> = 1</em><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep.STATUS_UPDATING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installcleep.InstallCleep._InstallCleep__download_callback">
<code class="descname">_InstallCleep__download_callback</code><span class="sig-paren">(</span><em>status</em>, <em>filesize</em>, <em>percent</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep._InstallCleep__download_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Download callback</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installcleep.InstallCleep._InstallCleep__download_checksum">
<code class="descname">_InstallCleep__download_checksum</code><span class="sig-paren">(</span><em>download</em>, <em>url_checksum</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep._InstallCleep__download_checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>Download specified checksum file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>download</strong> (<a class="reference internal" href="#cleep.libs.internals.download.Download" title="cleep.libs.internals.download.Download"><em>Download</em></a>) – Download instance</li>
<li><strong>url_checksum</strong> (<em>string</em>) – checksum file url</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">checkum file content, None if something failed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installcleep.InstallCleep._InstallCleep__download_package">
<code class="descname">_InstallCleep__download_package</code><span class="sig-paren">(</span><em>download</em>, <em>url_package</em>, <em>checksum</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep._InstallCleep__download_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Download cleep packagee file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>download</strong> (<a class="reference internal" href="#cleep.libs.internals.download.Download" title="cleep.libs.internals.download.Download"><em>Download</em></a>) – Download instance</li>
<li><strong>url_package</strong> (<em>string</em>) – deb package url</li>
<li><strong>checksum</strong> (<em>string</em>) – checksum to use to validate download</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">downloaded package path or None if error occured</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installcleep.InstallCleep._InstallCleep__install_deb">
<code class="descname">_InstallCleep__install_deb</code><span class="sig-paren">(</span><em>package_path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep._InstallCleep__install_deb" title="Permalink to this definition">¶</a></dt>
<dd><p>Install deb</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>package_path</strong> (<em>string</em>) – deb package path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if installation succeed, False otherwise</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installcleep.InstallCleep._InstallCleep__reset">
<code class="descname">_InstallCleep__reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep._InstallCleep__reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installcleep.InstallCleep.get_status">
<code class="descname">get_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current status</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">update status:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">progress</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">progress</span> <span class="n">percentage</span>
    <span class="n">status</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">see</span> <span class="n">STATUS_XXX</span> <span class="k">for</span> <span class="n">available</span> <span class="n">codes</span>
    <span class="n">deb</span> <span class="p">(</span><span class="nb">dict</span><span class="p">):</span> <span class="n">deb</span> <span class="n">status</span> <span class="p">(</span><span class="n">status</span><span class="p">,</span> <span class="n">returncode</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installcleep.InstallCleep.install">
<code class="descname">install</code><span class="sig-paren">(</span><em>url_package</em>, <em>url_checksum</em>, <em>callback</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep.install" title="Permalink to this definition">¶</a></dt>
<dd><p>Launch installation.
The process is non blocking. Follow install process status using get_status.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url_package</strong> (<em>string</em>) – url of Cleep deb package</li>
<li><strong>url_checksum</strong> (<em>string</em>) – url of checksum</li>
<li><strong>callback</strong> (<em>function</em>) – status callback</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.installcleep.InstallCleep.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.installcleep.InstallCleep.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run update</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.profileformatter">
<span id="cleep-libs-internals-profileformatter-module"></span><h1>cleep.libs.internals.profileformatter module<a class="headerlink" href="#module-cleep.libs.internals.profileformatter" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.profileformatter.ProfileFormatter">
<em class="property">class </em><code class="descname">ProfileFormatter</code><span class="sig-paren">(</span><em>events_broker</em>, <em>event_name</em>, <em>profile</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformatter.ProfileFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base ProfileFormatter class
Used to format profile with specified event parameters</p>
<dl class="method">
<dt id="cleep.libs.internals.profileformatter.ProfileFormatter._fill_profile">
<code class="descname">_fill_profile</code><span class="sig-paren">(</span><em>event_params</em>, <em>profile</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformatter.ProfileFormatter._fill_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Fll profile with event data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>event_params</strong> (<em>dict</em>) – event parameters</li>
<li><strong>profile</strong> (<em>Profile</em>) – profile instance</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Profile instance filled with appropriate values</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.profileformatter.ProfileFormatter.format">
<code class="descname">format</code><span class="sig-paren">(</span><em>event_params</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformatter.ProfileFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format event</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>event_params</strong> (<em>list</em>) – list of event parameters as received from internal bus</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Profile instance filled with appropriate values</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.profileformattersbroker">
<span id="cleep-libs-internals-profileformattersbroker-module"></span><h1>cleep.libs.internals.profileformattersbroker module<a class="headerlink" href="#module-cleep.libs.internals.profileformattersbroker" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker">
<em class="property">class </em><code class="descname">ProfileFormattersBroker</code><span class="sig-paren">(</span><em>debug_enabled</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>ProfileFormatters broker is in charge of centralizing all formatters
It also ensures formatters use exiting events</p>
<dl class="attribute">
<dt id="cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.MODULES_DIR">
<code class="descname">MODULES_DIR</code><em class="property"> = '../../modules'</em><a class="headerlink" href="#cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.MODULES_DIR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.PYTHON_CLEEP_IMPORT_PATH">
<code class="descname">PYTHON_CLEEP_IMPORT_PATH</code><em class="property"> = 'cleep.modules.'</em><a class="headerlink" href="#cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.PYTHON_CLEEP_IMPORT_PATH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker._ProfileFormattersBroker__dump_formatters_content">
<code class="descname">_ProfileFormattersBroker__dump_formatters_content</code><span class="sig-paren">(</span><em>formatters</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker._ProfileFormattersBroker__dump_formatters_content" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump specified formatters content. Debug purpose only</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>formatters</strong> (<em>dict</em>) – dict of formatters</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker._ProfileFormattersBroker__get_best_formatter">
<code class="descname">_ProfileFormattersBroker__get_best_formatter</code><span class="sig-paren">(</span><em>module_name</em>, <em>module_formatters</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker._ProfileFormattersBroker__get_best_formatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return best formatters selecting firstly formatters provided by core modules then next available</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker._ProfileFormattersBroker__get_formatter_class_name">
<code class="descname">_ProfileFormattersBroker__get_formatter_class_name</code><span class="sig-paren">(</span><em>filename</em>, <em>module</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker._ProfileFormattersBroker__get_formatter_class_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for formatter class name trying to match filename with item in module</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>string</em>) – filename (without extension)</li>
<li><strong>module</strong> (<em>module</em>) – python module</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker._ProfileFormattersBroker__load_formatters">
<code class="descname">_ProfileFormattersBroker__load_formatters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker._ProfileFormattersBroker__load_formatters" title="Permalink to this definition">¶</a></dt>
<dd><p>Load all formatters available in current Cleep installation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body">Exception if internal error occured</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker._get_loaded_formatters">
<code class="descname">_get_loaded_formatters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker._get_loaded_formatters" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of loaded formatters (all foudn during application startup)
This function is only useful for debug and test purposes</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dict of formatters (see __loaded_formatters member description)</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.configure">
<code class="descname">configure</code><span class="sig-paren">(</span><em>bootstrap</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure broker</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bootstrap</strong> (<em>dict</em>) – bootstrap objects</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.get_renderers">
<code class="descname">get_renderers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.get_renderers" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of renderers (aka module)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of renderers:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="n">module_name</span> <span class="p">(</span><span class="n">string</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.get_renderers_formatters">
<code class="descname">get_renderers_formatters</code><span class="sig-paren">(</span><em>event_name</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.get_renderers_formatters" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all event formatters by modules that are loaded</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>event_name</strong> (<em>string</em>) – event name to search formatters for</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Formatter instances for specified event for each modules that implement it or None if no formatter for this event:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">profile_name</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="p">{</span>
        <span class="n">module_name</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">formatter</span> <span class="n">instance</span> <span class="p">(</span><span class="n">ProfileFormatter</span><span class="p">),</span>
        <span class="o">...</span>
    <span class="p">},</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.get_renderers_profiles">
<code class="descname">get_renderers_profiles</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.get_renderers_profiles" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of profiles handled by renderers</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">dict of profile handled by renderers:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">module_name</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="p">[</span>
        <span class="n">profile_name</span> <span class="p">(</span><span class="n">string</span><span class="p">),</span>
        <span class="o">...</span>
    <span class="p">],</span>
    <span class="o">...</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.register_renderer">
<code class="descname">register_renderer</code><span class="sig-paren">(</span><em>module_name</em>, <em>profiles</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.profileformattersbroker.ProfileFormattersBroker.register_renderer" title="Permalink to this definition">¶</a></dt>
<dd><p>Register new renderer</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>module_name</strong> (<em>string</em>) – name of renderer (module name)</li>
<li><strong>profiles</strong> (<em>list&lt;RendererProfile&gt;</em>) – list of base profile classes supported by module</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">MissingParameter, InvalidParameter</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.readwrite">
<span id="cleep-libs-internals-readwrite-module"></span><h1>cleep.libs.internals.readwrite module<a class="headerlink" href="#module-cleep.libs.internals.readwrite" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.readwrite.ReadWrite">
<em class="property">class </em><code class="descname">ReadWrite</code><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Read/write library allows user to toggle read/write mode on cleep protected iso</p>
<dl class="attribute">
<dt id="cleep.libs.internals.readwrite.ReadWrite.CLEEP_DIR">
<code class="descname">CLEEP_DIR</code><em class="property"> = '/tmp/cleep'</em><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite.CLEEP_DIR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.readwrite.ReadWrite.PARTITION_BOOT">
<code class="descname">PARTITION_BOOT</code><em class="property"> = '/boot'</em><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite.PARTITION_BOOT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.readwrite.ReadWrite.PARTITION_ROOT">
<code class="descname">PARTITION_ROOT</code><em class="property"> = '/'</em><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite.PARTITION_ROOT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.readwrite.ReadWrite.STATUS_READ">
<code class="descname">STATUS_READ</code><em class="property"> = 1</em><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite.STATUS_READ" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.readwrite.ReadWrite.STATUS_UNKNOWN">
<code class="descname">STATUS_UNKNOWN</code><em class="property"> = 2</em><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite.STATUS_UNKNOWN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cleep.libs.internals.readwrite.ReadWrite.STATUS_WRITE">
<code class="descname">STATUS_WRITE</code><em class="property"> = 0</em><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite.STATUS_WRITE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.readwrite.ReadWrite._ReadWrite__disable_write">
<code class="descname">_ReadWrite__disable_write</code><span class="sig-paren">(</span><em>partition</em>, <em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite._ReadWrite__disable_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable filesystem writings</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>partition</strong> (<em>string</em>) – partition to work on</li>
<li><strong>context</strong> (<a class="reference internal" href="#cleep.libs.internals.readwrite.ReadWriteContext" title="cleep.libs.internals.readwrite.ReadWriteContext"><em>ReadWriteContext</em></a>) – write context</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if read enabled, False otherwise</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.readwrite.ReadWrite._ReadWrite__enable_write">
<code class="descname">_ReadWrite__enable_write</code><span class="sig-paren">(</span><em>partition</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite._ReadWrite__enable_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable filesystem writing</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>partition</strong> (<em>string</em>) – partition to work on</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if write enabled, False otherwise</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.readwrite.ReadWrite._ReadWrite__get_opened_files_for_writing">
<code class="descname">_ReadWrite__get_opened_files_for_writing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite._ReadWrite__get_opened_files_for_writing" title="Permalink to this definition">¶</a></dt>
<dd><p>Return opened files for writing for current program</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.readwrite.ReadWrite._ReadWrite__is_cleep_iso">
<code class="descname">_ReadWrite__is_cleep_iso</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite._ReadWrite__is_cleep_iso" title="Permalink to this definition">¶</a></dt>
<dd><p>Detect if cleep is running on cleep iso</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if it’s cleep iso</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.readwrite.ReadWrite._ReadWrite__refresh">
<code class="descname">_ReadWrite__refresh</code><span class="sig-paren">(</span><em>partition</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite._ReadWrite__refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>partition</strong> (<em>string</em>) – partition to work on</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.readwrite.ReadWrite.disable_write_on_boot">
<code class="descname">disable_write_on_boot</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite.disable_write_on_boot" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable filesystem writings on boot partition</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> (<a class="reference internal" href="#cleep.libs.internals.readwrite.ReadWriteContext" title="cleep.libs.internals.readwrite.ReadWriteContext"><em>ReadWriteContext</em></a>) – write context</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if write disabled, False otherwise</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.readwrite.ReadWrite.disable_write_on_root">
<code class="descname">disable_write_on_root</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite.disable_write_on_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable filesystem writings on root partition</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> (<a class="reference internal" href="#cleep.libs.internals.readwrite.ReadWriteContext" title="cleep.libs.internals.readwrite.ReadWriteContext"><em>ReadWriteContext</em></a>) – write context</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if write disabled, False otherwise</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.readwrite.ReadWrite.enable_write_on_boot">
<code class="descname">enable_write_on_boot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite.enable_write_on_boot" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable filesystem writings on boot partition</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if write enabled, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.readwrite.ReadWrite.enable_write_on_root">
<code class="descname">enable_write_on_root</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite.enable_write_on_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable filesystem writings on root partition</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if write enabled, False otherwise</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.readwrite.ReadWrite.get_status">
<code class="descname">get_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current filesystem status requesting mount command</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">partition status (please check STATUS_UNKNOWN that appears when problem occurs):<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">boot</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">STATUS_READ</span><span class="o">|</span><span class="n">STATUS_WRITE</span>
    <span class="n">root</span> <span class="p">(</span><span class="nb">int</span><span class="p">):</span> <span class="n">STATUS_READ</span><span class="o">|</span><span class="n">STATUS_WRITE</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.readwrite.ReadWrite.is_path_on_root">
<code class="descname">is_path_on_root</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite.is_path_on_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if specified path is on root partition</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>string</em>) – path (absolute or not)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if path on root partition</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.readwrite.ReadWrite.set_crash_report">
<code class="descname">set_crash_report</code><span class="sig-paren">(</span><em>crash_report</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWrite.set_crash_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Set crash report</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>crash_report</strong> (<a class="reference internal" href="#cleep.libs.internals.crashreport.CrashReport" title="cleep.libs.internals.crashreport.CrashReport"><em>CrashReport</em></a>) – CrashReport instance</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cleep.libs.internals.readwrite.ReadWriteContext">
<em class="property">class </em><code class="descname">ReadWriteContext</code><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWriteContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Object to hold some data about current context</p>
<dl class="method">
<dt id="cleep.libs.internals.readwrite.ReadWriteContext.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.readwrite.ReadWriteContext.to_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.rendererprofile">
<span id="cleep-libs-internals-rendererprofile-module"></span><h1>cleep.libs.internals.rendererprofile module<a class="headerlink" href="#module-cleep.libs.internals.rendererprofile" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.rendererprofile.RendererProfile">
<em class="property">class </em><code class="descname">RendererProfile</code><a class="headerlink" href="#cleep.libs.internals.rendererprofile.RendererProfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base renderer profile class
It implements to_dict and __str__ functions</p>
<dl class="method">
<dt id="cleep.libs.internals.rendererprofile.RendererProfile.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.rendererprofile.RendererProfile.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns profile as dictionary (with member values and without private members)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">profile</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.sun">
<span id="cleep-libs-internals-sun-module"></span><h1>cleep.libs.internals.sun module<a class="headerlink" href="#module-cleep.libs.internals.sun" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.sun.Sun">
<em class="property">class </em><code class="descname">Sun</code><a class="headerlink" href="#cleep.libs.internals.sun.Sun" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Sunset/sunrise times computation according to geographic position</p>
<dl class="docutils">
<dt>See:</dt>
<dd>Code copied and adapted for Cleep from <a class="reference external" href="https://github.com/SatAgro/suntime/blob/master/suntime/suntime.py">https://github.com/SatAgro/suntime/blob/master/suntime/suntime.py</a></dd>
</dl>
<p class="rubric">Notes</p>
<p>Approximated calculation of sunrise and sunset datetimes. Adapted from:
<a class="reference external" href="https://stackoverflow.com/questions/19615350/calculate-sunrise-and-sunset-times-for-a-given-gps-coordinate-within-postgresql">https://stackoverflow.com/questions/19615350/calculate-sunrise-and-sunset-times-for-a-given-gps-coordinate-within-postgresql</a></p>
<dl class="method">
<dt id="cleep.libs.internals.sun.Sun._calc_sun_time">
<code class="descname">_calc_sun_time</code><span class="sig-paren">(</span><em>date</em>, <em>is_rise_time=True</em>, <em>zenith=90.8</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.sun.Sun._calc_sun_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate sunrise or sunset date.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>date</strong> (<em>datetime</em>) – reference date</li>
<li><strong>is_rise_time</strong> (<em>bool</em>) – True if you want to calculate sunrise time.</li>
<li><strong>zenith</strong> (<em>float</em>) – sun reference zenith</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">UTC sunset or sunrise datetime</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">datetime</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Exception when there is no sunrise and sunset on given location and date</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="cleep.libs.internals.sun.Sun._force_range">
<em class="property">static </em><code class="descname">_force_range</code><span class="sig-paren">(</span><em>v</em>, <em>max</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.sun.Sun._force_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.sun.Sun.get_local_sunrise_time">
<code class="descname">get_local_sunrise_time</code><span class="sig-paren">(</span><em>date=None</em>, <em>local_time_zone=tzlocal()</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.sun.Sun.get_local_sunrise_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get sunrise time for local or custom time zone.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>date</strong> (<em>datetime</em>) – reference date (default is today if nothing specified)</li>
<li><strong>local_time_zone</strong> (<em>tzlocal</em>) – local or custom time zone.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">local time zone sunrise datetime</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">datetime</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Exception if error occured</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.sun.Sun.get_local_sunset_time">
<code class="descname">get_local_sunset_time</code><span class="sig-paren">(</span><em>date=None</em>, <em>local_time_zone=tzlocal()</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.sun.Sun.get_local_sunset_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Get sunset time for local or custom time zone.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>date</strong> (<em>datetime</em>) – reference date (default to today if nothing specified)</li>
<li><strong>local_time_zone</strong> (<em>tzlocal</em>) – local or custom time zone.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">local time zone sunset datetime</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">datetime</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last">Exception if error occured</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.sun.Sun.get_sunrise_time">
<code class="descname">get_sunrise_time</code><span class="sig-paren">(</span><em>date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.sun.Sun.get_sunrise_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the sunrise time for given date.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date</strong> (<em>datetime</em>) – reference date (default is today if nothing specified)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">UTC sunrise datetime</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">datetime</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Exception when there is no sunrise and sunset on given location and date</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.sun.Sun.get_sunset_time">
<code class="descname">get_sunset_time</code><span class="sig-paren">(</span><em>date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.sun.Sun.get_sunset_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the sunset time for given date.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>date</strong> (<em>datetime</em>) – custom date used for computation (default is today if not specified)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">UTC sunset datetime</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">datetime</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Exception if error occured</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.sun.Sun.set_position">
<code class="descname">set_position</code><span class="sig-paren">(</span><em>latitude</em>, <em>longitude</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.sun.Sun.set_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Set latitude and longitude for sunset/sunrise times computation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>latitude</strong> (<em>float</em>) – latitude</li>
<li><strong>longitude</strong> (<em>float</em>) – longitude</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.sun.Sun.sunrise">
<code class="descname">sunrise</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.sun.Sun.sunrise" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns locale sunrise time
Alias to get_local_sunrise_time for current date</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">local sunrise datetime</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.sun.Sun.sunset">
<code class="descname">sunset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.sun.Sun.sunset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns locale sunset time
Alias to get_local_sunset_time for current date</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">local sunset datetime</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">datetime</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.task">
<span id="cleep-libs-internals-task-module"></span><h1>cleep.libs.internals.task module<a class="headerlink" href="#module-cleep.libs.internals.task" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="cleep.libs.internals.task.Task">
<em class="property">class </em><code class="descname">Task</code><span class="sig-paren">(</span><em>interval</em>, <em>task</em>, <em>logger</em>, <em>task_args=[]</em>, <em>task_kwargs={}</em>, <em>end_callback=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.task.Task" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Run a task asynchronously.</p>
<p>If interval is specified task is executed periodically.
If interval is None or 0 task is executed immediately and only once</p>
<dl class="method">
<dt id="cleep.libs.internals.task.Task._Task__run">
<code class="descname">_Task__run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.task.Task._Task__run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the task</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.task.Task.is_running">
<code class="descname">is_running</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.task.Task.is_running" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True is task is running</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">True if running</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.task.Task.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.task.Task.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the task</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.task.Task.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.task.Task.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the task</p>
</dd></dl>

<dl class="method">
<dt id="cleep.libs.internals.task.Task.wait">
<code class="descname">wait</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.task.Task.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for current task to be done</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cleep.libs.internals.task.CountTask">
<em class="property">class </em><code class="descname">CountTask</code><span class="sig-paren">(</span><em>interval</em>, <em>task</em>, <em>logger</em>, <em>count</em>, <em>task_args=[]</em>, <em>task_kwargs={}</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.task.CountTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cleep.libs.internals.task.Task" title="cleep.libs.internals.task.Task"><code class="xref py py-class docutils literal notranslate"><span class="pre">cleep.libs.internals.task.Task</span></code></a></p>
<p>Run task X times</p>
</dd></dl>

</div>
<div class="section" id="module-cleep.libs.internals.tools">
<span id="cleep-libs-internals-tools-module"></span><h1>cleep.libs.internals.tools module<a class="headerlink" href="#module-cleep.libs.internals.tools" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="cleep.libs.internals.tools.compare_versions">
<code class="descname">compare_versions</code><span class="sig-paren">(</span><em>old_version</em>, <em>new_version</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.tools.compare_versions" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare specified version and return True if new version is strictly greater than old one</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>old_version</strong> (<em>string</em>) – old version</li>
<li><strong>new_version</strong> (<em>string</em>) – new version</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if new version available</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cleep.libs.internals.tools.dbm_to_percent">
<code class="descname">dbm_to_percent</code><span class="sig-paren">(</span><em>dbm</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.tools.dbm_to_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert dbm signal level to percentage</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Article here <a class="reference external" href="https://www.adriangranados.com/blog/dbm-to-percent-conversion">https://www.adriangranados.com/blog/dbm-to-percent-conversion</a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>dbm</strong> (<em>int</em>) – dbm value</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">percentage value</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cleep.libs.internals.tools.file_to_base64">
<code class="descname">file_to_base64</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.tools.file_to_base64" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert specified file to base64 string</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>string</em>) – path to file</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">base64 encoded file content</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body">Exception of all kind if something wrong occured</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cleep.libs.internals.tools.full_split_path">
<code class="descname">full_split_path</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.tools.full_split_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Split path completely /home/test/test.txt =&gt; [‘/’, ‘home’, ‘test’, ‘test.py’]</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">code from <a class="reference external" href="https://www.safaribooksonline.com/library/view/python-cookbook/0596001673/ch04s16.html">https://www.safaribooksonline.com/library/view/python-cookbook/0596001673/ch04s16.html</a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of path parts</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cleep.libs.internals.tools.hr_bytes">
<code class="descname">hr_bytes</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.tools.hr_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Human readable bytes value</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference external" href="http://code.activestate.com/recipes/578019">http://code.activestate.com/recipes/578019</a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em>) – bytes</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">human readable bytes value</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cleep.libs.internals.tools.hr_uptime">
<code class="descname">hr_uptime</code><span class="sig-paren">(</span><em>uptime</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.tools.hr_uptime" title="Permalink to this definition">¶</a></dt>
<dd><p>Human readable uptime (in days/hours/minutes/seconds)</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference external" href="http://unix.stackexchange.com/a/27014">http://unix.stackexchange.com/a/27014</a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>uptime</strong> (<em>int</em>) – uptime value</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">human readable string</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cleep.libs.internals.tools.install_trace_logging_level">
<code class="descname">install_trace_logging_level</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.tools.install_trace_logging_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Install custom log level TRACE for library debugging principaly
Credits <a class="reference external" href="https://gist.github.com/numberoverzero/f803ebf29a0677b6980a5a733a10ca71">https://gist.github.com/numberoverzero/f803ebf29a0677b6980a5a733a10ca71</a></p>
</dd></dl>

<dl class="function">
<dt id="cleep.libs.internals.tools.install_unhandled_exception_handler">
<code class="descname">install_unhandled_exception_handler</code><span class="sig-paren">(</span><em>crash_report</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.tools.install_unhandled_exception_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Overwrite default exception handler to log errors
&#64;see <a class="reference external" href="https://stackoverflow.com/a/16993115">https://stackoverflow.com/a/16993115</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>crash_report</strong> (<a class="reference internal" href="#cleep.libs.internals.crashreport.CrashReport" title="cleep.libs.internals.crashreport.CrashReport"><em>CrashReport</em></a>) – crash report instance</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cleep.libs.internals.tools.is_core_lib">
<code class="descname">is_core_lib</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.tools.is_core_lib" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if specified lib is a core library (provided by cleep)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>string</em>) – lib path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if lib is core lib, False otherwise</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cleep.libs.internals.tools.raspberry_pi_infos">
<code class="descname">raspberry_pi_infos</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.tools.raspberry_pi_infos" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns infos about current raspberry pi board</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><a class="reference external" href="https://elinux.org/RPi_HardwareHistory#Board_Revision_History">https://elinux.org/RPi_HardwareHistory#Board_Revision_History</a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">raspberry pi board infos:<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="n">date</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">release</span> <span class="n">date</span>
    <span class="n">model</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">model</span>
    <span class="n">pcbrevision</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">PCB</span> <span class="n">revision</span>
    <span class="n">memory</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">memory</span> <span class="n">amount</span>
    <span class="n">notes</span> <span class="p">(</span><span class="n">string</span><span class="p">):</span> <span class="n">extra</span> <span class="n">infos</span> <span class="n">about</span> <span class="n">raspberry</span> <span class="n">pi</span>
    <span class="n">ethernet</span> <span class="p">(</span><span class="nb">bool</span><span class="p">):</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">natively</span> <span class="n">available</span> <span class="n">on</span> <span class="n">board</span>
    <span class="n">wireless</span> <span class="p">(</span><span class="nb">bool</span><span class="p">):</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">natively</span> <span class="n">available</span> <span class="n">on</span> <span class="n">board</span>
    <span class="n">audio</span> <span class="p">(</span><span class="nb">bool</span><span class="p">):</span> <span class="kc">True</span> <span class="k">if</span> <span class="n">natively</span> <span class="n">available</span> <span class="n">on</span> <span class="n">board</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="cleep.libs.internals.tools.wpa_passphrase">
<code class="descname">wpa_passphrase</code><span class="sig-paren">(</span><em>ssid</em>, <em>password</em><span class="sig-paren">)</span><a class="headerlink" href="#cleep.libs.internals.tools.wpa_passphrase" title="Permalink to this definition">¶</a></dt>
<dd><p>Python implementation of wpa_passphrase linux utility
It generates wpa_passphrase for wifi network connection</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Copied from <a class="reference external" href="https://github.com/julianofischer/python-wpa-psk-rawkey-gen/blob/master/rawkey-generator.py">https://github.com/julianofischer/python-wpa-psk-rawkey-gen/blob/master/rawkey-generator.py</a></p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ssid</strong> (<em>string</em>) – network ssid</li>
<li><strong>password</strong> (<em>string</em>) – password</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">generated psk</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020 Tanguy Bonneau

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>